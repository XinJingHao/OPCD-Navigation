<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ROS Motion Planning: Planner.OkayPlan Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ROS Motion Planning
   &#160;<span id="projectnumber">1.0.5</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classPlanner_1_1OkayPlan.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classPlanner_1_1OkayPlan-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Planner.OkayPlan Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Collaboration diagram for Planner.OkayPlan:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classPlanner_1_1OkayPlan__coll__graph.png" border="0" usemap="#Planner_8OkayPlan_coll__map" alt="Collaboration graph"/></div>
<map name="Planner_8OkayPlan_coll__map" id="Planner_8OkayPlan_coll__map">
<area shape="rect" title=" " alt="" coords="5,5,232,1285"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad61407d32a1a6a5b90e307ac19ce9345"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#ad61407d32a1a6a5b90e307ac19ce9345">__init__</a> (self, opt, <a class="el" href="classPlanner_1_1OkayPlan.html#a179a8f5a4b2423d433e51955ec492b67">params</a>)</td></tr>
<tr class="separator:ad61407d32a1a6a5b90e307ac19ce9345"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecd32d02d1509b3cc60ba59bf0cf17fb"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#aecd32d02d1509b3cc60ba59bf0cf17fb">Priori_Path_Init</a> (self, start, target)</td></tr>
<tr class="separator:aecd32d02d1509b3cc60ba59bf0cf17fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab759236b722a4767ee2d01c0407c1771"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#ab759236b722a4767ee2d01c0407c1771">plan</a> (self, env_info)</td></tr>
<tr class="separator:ab759236b722a4767ee2d01c0407c1771"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a828693f773fbb4a71e9f1f937f49419d"><td class="memItemLeft" align="right" valign="top">np.ndarray&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#a828693f773fbb4a71e9f1f937f49419d">get_guidepoint</a> (self, np.ndarray waypoints)</td></tr>
<tr class="separator:a828693f773fbb4a71e9f1f937f49419d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5dbe90fd6d2563bcabb7a1d640023af6"><td class="memItemLeft" align="right" valign="top">np.ndarray&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#a5dbe90fd6d2563bcabb7a1d640023af6">get_guidepoint_old</a> (self, np.ndarray waypoints)</td></tr>
<tr class="separator:a5dbe90fd6d2563bcabb7a1d640023af6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad61407d32a1a6a5b90e307ac19ce9345"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#ad61407d32a1a6a5b90e307ac19ce9345">__init__</a> (self, opt, <a class="el" href="classPlanner_1_1OkayPlan.html#a179a8f5a4b2423d433e51955ec492b67">params</a>)</td></tr>
<tr class="separator:ad61407d32a1a6a5b90e307ac19ce9345"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecd32d02d1509b3cc60ba59bf0cf17fb"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#aecd32d02d1509b3cc60ba59bf0cf17fb">Priori_Path_Init</a> (self, start, target)</td></tr>
<tr class="separator:aecd32d02d1509b3cc60ba59bf0cf17fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab759236b722a4767ee2d01c0407c1771"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#ab759236b722a4767ee2d01c0407c1771">plan</a> (self, env_info)</td></tr>
<tr class="separator:ab759236b722a4767ee2d01c0407c1771"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a828693f773fbb4a71e9f1f937f49419d"><td class="memItemLeft" align="right" valign="top">np.ndarray&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#a828693f773fbb4a71e9f1f937f49419d">get_guidepoint</a> (self, np.ndarray waypoints)</td></tr>
<tr class="separator:a828693f773fbb4a71e9f1f937f49419d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5dbe90fd6d2563bcabb7a1d640023af6"><td class="memItemLeft" align="right" valign="top">np.ndarray&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#a5dbe90fd6d2563bcabb7a1d640023af6">get_guidepoint_old</a> (self, np.ndarray waypoints)</td></tr>
<tr class="separator:a5dbe90fd6d2563bcabb7a1d640023af6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a439c78cd75fe21e6816d5d47235eec08"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#a439c78cd75fe21e6816d5d47235eec08">dvc</a></td></tr>
<tr class="separator:a439c78cd75fe21e6816d5d47235eec08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a179a8f5a4b2423d433e51955ec492b67"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#a179a8f5a4b2423d433e51955ec492b67">params</a></td></tr>
<tr class="separator:a179a8f5a4b2423d433e51955ec492b67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cdc1efe757f2adc1072ab956bb968fd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#a6cdc1efe757f2adc1072ab956bb968fd">G</a></td></tr>
<tr class="separator:a6cdc1efe757f2adc1072ab956bb968fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f3828cbb03403df32dfa7f970e41bcd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#a4f3828cbb03403df32dfa7f970e41bcd">w_init</a></td></tr>
<tr class="separator:a4f3828cbb03403df32dfa7f970e41bcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a584a44fe94e8e3f1a980e073063b70fa"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#a584a44fe94e8e3f1a980e073063b70fa">w_end</a></td></tr>
<tr class="separator:a584a44fe94e8e3f1a980e073063b70fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa82d7ecbf6e8fe5164f9262f424096b6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#aa82d7ecbf6e8fe5164f9262f424096b6">Max_iterations</a></td></tr>
<tr class="separator:aa82d7ecbf6e8fe5164f9262f424096b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e90cdc498fafef6da0d906f7f9cf860"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#a5e90cdc498fafef6da0d906f7f9cf860">w_delta</a></td></tr>
<tr class="separator:a5e90cdc498fafef6da0d906f7f9cf860"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b61ad18fcc7f221a129b262da76279c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#a0b61ad18fcc7f221a129b262da76279c">v_limit_ratio</a></td></tr>
<tr class="separator:a0b61ad18fcc7f221a129b262da76279c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed19fa32b9f3ae64bd29d16169118179"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#aed19fa32b9f3ae64bd29d16169118179">v_init_ratio</a></td></tr>
<tr class="separator:aed19fa32b9f3ae64bd29d16169118179"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18e73d4da214894e39e8b1265f9bdc12"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#a18e73d4da214894e39e8b1265f9bdc12">Hyper</a></td></tr>
<tr class="separator:a18e73d4da214894e39e8b1265f9bdc12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4584275ff2f88accc11f19061027d70"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#ad4584275ff2f88accc11f19061027d70">D</a></td></tr>
<tr class="separator:ad4584275ff2f88accc11f19061027d70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19e4973e0b60041d5cfb5b2d84f6b6fd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#a19e4973e0b60041d5cfb5b2d84f6b6fd">arange_idx</a></td></tr>
<tr class="separator:a19e4973e0b60041d5cfb5b2d84f6b6fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8e9d17cbc8936718abe21a1b64ae8bf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#ab8e9d17cbc8936718abe21a1b64ae8bf">Search_range</a></td></tr>
<tr class="separator:ab8e9d17cbc8936718abe21a1b64ae8bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79d1bd3b14a7850708f6d6df1d1747b6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#a79d1bd3b14a7850708f6d6df1d1747b6">Random</a></td></tr>
<tr class="separator:a79d1bd3b14a7850708f6d6df1d1747b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a633fd32e8a7480eef98c92565224a7d5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#a633fd32e8a7480eef98c92565224a7d5">Kinmtc</a></td></tr>
<tr class="separator:a633fd32e8a7480eef98c92565224a7d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13c6a19f9ae239c0c0a48c4e8b432298"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#a13c6a19f9ae239c0c0a48c4e8b432298">Locate</a></td></tr>
<tr class="separator:a13c6a19f9ae239c0c0a48c4e8b432298"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b9f26e30add99f9de5deb35562062d4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#a4b9f26e30add99f9de5deb35562062d4">V_offset</a></td></tr>
<tr class="separator:a4b9f26e30add99f9de5deb35562062d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a048d09cbc1a40abdd41e297d4972ca1b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#a048d09cbc1a40abdd41e297d4972ca1b">NP</a></td></tr>
<tr class="separator:a048d09cbc1a40abdd41e297d4972ca1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a157d96c0eb55385ee1fbed403590859b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#a157d96c0eb55385ee1fbed403590859b">S</a></td></tr>
<tr class="separator:a157d96c0eb55385ee1fbed403590859b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa006005fbe435075683b6e07e4944a94"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#aa006005fbe435075683b6e07e4944a94">P</a></td></tr>
<tr class="separator:aa006005fbe435075683b6e07e4944a94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64c817618c60cd096432f72bd0eef4b3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#a64c817618c60cd096432f72bd0eef4b3">rd_area</a></td></tr>
<tr class="separator:a64c817618c60cd096432f72bd0eef4b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeff493dcaa86b1cf5556ec96ebb4cf45"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#aeff493dcaa86b1cf5556ec96ebb4cf45">ShakePenalty</a></td></tr>
<tr class="separator:aeff493dcaa86b1cf5556ec96ebb4cf45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a052af9afd43819946b301a24fd009ca8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#a052af9afd43819946b301a24fd009ca8">AT</a></td></tr>
<tr class="separator:a052af9afd43819946b301a24fd009ca8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2dd336a7cf894fd1cc7af56dd137243b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#a2dd336a7cf894fd1cc7af56dd137243b">TrucWindow</a></td></tr>
<tr class="separator:a2dd336a7cf894fd1cc7af56dd137243b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31d135887145f2d82da44ef991268806"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#a31d135887145f2d82da44ef991268806">std_Trsd</a></td></tr>
<tr class="separator:a31d135887145f2d82da44ef991268806"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55580e5c75edf5972a790f0b2fa7779b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#a55580e5c75edf5972a790f0b2fa7779b">DPI</a></td></tr>
<tr class="separator:a55580e5c75edf5972a790f0b2fa7779b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a6db39585d3b350f77bae9903826c23"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#a9a6db39585d3b350f77bae9903826c23">angles_trsd</a></td></tr>
<tr class="separator:a9a6db39585d3b350f77bae9903826c23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e4ba375f9819a70b327c540b9eeb215"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#a7e4ba375f9819a70b327c540b9eeb215">discounted_D</a></td></tr>
<tr class="separator:a7e4ba375f9819a70b327c540b9eeb215"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69d6234026716407e99630c157071f7b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#a69d6234026716407e99630c157071f7b">length_trsd</a></td></tr>
<tr class="separator:a69d6234026716407e99630c157071f7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac451eabcb693186e9801619045afe47"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#aac451eabcb693186e9801619045afe47">waypoints_trsd</a></td></tr>
<tr class="separator:aac451eabcb693186e9801619045afe47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10f6a6afd86f7a96e9f4a4e970afcc95"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#a10f6a6afd86f7a96e9f4a4e970afcc95">Priori_Path</a></td></tr>
<tr class="separator:a10f6a6afd86f7a96e9f4a4e970afcc95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fffdc48f5ac6c7dbe2fbe8af4f197ee"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#a3fffdc48f5ac6c7dbe2fbe8af4f197ee">shake_cefi</a></td></tr>
<tr class="separator:a3fffdc48f5ac6c7dbe2fbe8af4f197ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab04010d1aa453c23c3b03b53dbcf1033"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#ab04010d1aa453c23c3b03b53dbcf1033">Pbest_value</a></td></tr>
<tr class="separator:ab04010d1aa453c23c3b03b53dbcf1033"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb1f5150f81e73dbdde462866c11ca73"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#afb1f5150f81e73dbdde462866c11ca73">Gbest_value</a></td></tr>
<tr class="separator:afb1f5150f81e73dbdde462866c11ca73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1718f73c572231b351167e219ec78d29"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#a1718f73c572231b351167e219ec78d29">Tbest_value</a></td></tr>
<tr class="separator:a1718f73c572231b351167e219ec78d29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeda39c82adea5aa58b623f9e001ddb0e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#aeda39c82adea5aa58b623f9e001ddb0e">Tbest_Collision_Free</a></td></tr>
<tr class="separator:aeda39c82adea5aa58b623f9e001ddb0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed2c341e08444b2e031fb4535b042609"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#aed2c341e08444b2e031fb4535b042609">Tbest_values_deque</a></td></tr>
<tr class="separator:aed2c341e08444b2e031fb4535b042609"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d7ec8d710fc0b42180c867ab8c2818f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#a7d7ec8d710fc0b42180c867ab8c2818f">v_min</a></td></tr>
<tr class="separator:a7d7ec8d710fc0b42180c867ab8c2818f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e986124a39661e9142e480645d86c8f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#a2e986124a39661e9142e480645d86c8f">v_max</a></td></tr>
<tr class="separator:a2e986124a39661e9142e480645d86c8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bd4d8923146e7527c5da69f66713903"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#a6bd4d8923146e7527c5da69f66713903">y_start</a></td></tr>
<tr class="separator:a6bd4d8923146e7527c5da69f66713903"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3ba1002e7a6176736ba2fa0d3e8770d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#ac3ba1002e7a6176736ba2fa0d3e8770d">y_target</a></td></tr>
<tr class="separator:ac3ba1002e7a6176736ba2fa0d3e8770d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2cfb9ec8f0b66c254a2c708d7814b5c7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#a2cfb9ec8f0b66c254a2c708d7814b5c7">d2target</a></td></tr>
<tr class="separator:a2cfb9ec8f0b66c254a2c708d7814b5c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad529858a4c9b90ec9a0e85588d723481"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#ad529858a4c9b90ec9a0e85588d723481">Obs_Segments</a></td></tr>
<tr class="separator:ad529858a4c9b90ec9a0e85588d723481"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a324f5d1042bb16cfbb9a3e0b924715"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#a2a324f5d1042bb16cfbb9a3e0b924715">Flat_pdct_segments</a></td></tr>
<tr class="separator:a2a324f5d1042bb16cfbb9a3e0b924715"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a692827fb9a60e4feccecc9e36085d673"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#a692827fb9a60e4feccecc9e36085d673">_uniform_random</a> (self, low, high, shape)</td></tr>
<tr class="separator:a692827fb9a60e4feccecc9e36085d673"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1794c2e1f46ba98d49f2a8d37e0a963"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#ad1794c2e1f46ba98d49f2a8d37e0a963">_Uniform_interpolation_path</a> (self, start, target)</td></tr>
<tr class="separator:ad1794c2e1f46ba98d49f2a8d37e0a963"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7d29a3cc5d0fd152dacc93d5166472e"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#aa7d29a3cc5d0fd152dacc93d5166472e">_fix_apex</a> (self)</td></tr>
<tr class="separator:aa7d29a3cc5d0fd152dacc93d5166472e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae8af0c7f0ecac78d33cce7e17b7f5a9"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#aae8af0c7f0ecac78d33cce7e17b7f5a9">_ReLocate</a> (self)</td></tr>
<tr class="separator:aae8af0c7f0ecac78d33cce7e17b7f5a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d482dcdc0f0a76af063b58b2f11a41a"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#a6d482dcdc0f0a76af063b58b2f11a41a">_Cross_product_for_VectorSet</a> (self, V_PM, V_PP)</td></tr>
<tr class="separator:a6d482dcdc0f0a76af063b58b2f11a41a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64e5c5e94d2536fcd8d61a4ad9b42877"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#a64e5c5e94d2536fcd8d61a4ad9b42877">_Is_Seg_Ingersection_PtoM</a> (self, <a class="el" href="classPlanner_1_1OkayPlan.html#aa006005fbe435075683b6e07e4944a94">P</a>, M)</td></tr>
<tr class="separator:a64e5c5e94d2536fcd8d61a4ad9b42877"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8207aa6109d5484eb0babb59f7d2e1ff"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#a8207aa6109d5484eb0babb59f7d2e1ff">_get_Obs_Penalty</a> (self)</td></tr>
<tr class="separator:a8207aa6109d5484eb0babb59f7d2e1ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9612f7960b59aedbcf8a47ca6a9878eb"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#a9612f7960b59aedbcf8a47ca6a9878eb">_get_Shake_Penalty</a> (self)</td></tr>
<tr class="separator:a9612f7960b59aedbcf8a47ca6a9878eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47838547b3bf7b5bad81ec4e74504e64"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#a47838547b3bf7b5bad81ec4e74504e64">_get_fitness</a> (self)</td></tr>
<tr class="separator:a47838547b3bf7b5bad81ec4e74504e64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe3101e74a83c7fbf68d4d3c4ef6adec"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#abe3101e74a83c7fbf68d4d3c4ef6adec">_iterate</a> (self)</td></tr>
<tr class="separator:abe3101e74a83c7fbf68d4d3c4ef6adec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d095d95f6129a3242adc46262c07c98"><td class="memItemLeft" align="right" valign="top">np.ndarray&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#a8d095d95f6129a3242adc46262c07c98">_calculate_waypoints_BendingAngles</a> (self, np.ndarray waypoints)</td></tr>
<tr class="separator:a8d095d95f6129a3242adc46262c07c98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab70f0f845f03b200a5b81462efa710c1"><td class="memItemLeft" align="right" valign="top">np.ndarray&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#ab70f0f845f03b200a5b81462efa710c1">_waypoints_filter</a> (self, np.ndarray waypoints)</td></tr>
<tr class="separator:ab70f0f845f03b200a5b81462efa710c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a692827fb9a60e4feccecc9e36085d673"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#a692827fb9a60e4feccecc9e36085d673">_uniform_random</a> (self, low, high, shape)</td></tr>
<tr class="separator:a692827fb9a60e4feccecc9e36085d673"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1794c2e1f46ba98d49f2a8d37e0a963"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#ad1794c2e1f46ba98d49f2a8d37e0a963">_Uniform_interpolation_path</a> (self, start, target)</td></tr>
<tr class="separator:ad1794c2e1f46ba98d49f2a8d37e0a963"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7d29a3cc5d0fd152dacc93d5166472e"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#aa7d29a3cc5d0fd152dacc93d5166472e">_fix_apex</a> (self)</td></tr>
<tr class="separator:aa7d29a3cc5d0fd152dacc93d5166472e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae8af0c7f0ecac78d33cce7e17b7f5a9"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#aae8af0c7f0ecac78d33cce7e17b7f5a9">_ReLocate</a> (self)</td></tr>
<tr class="separator:aae8af0c7f0ecac78d33cce7e17b7f5a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d482dcdc0f0a76af063b58b2f11a41a"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#a6d482dcdc0f0a76af063b58b2f11a41a">_Cross_product_for_VectorSet</a> (self, V_PM, V_PP)</td></tr>
<tr class="separator:a6d482dcdc0f0a76af063b58b2f11a41a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64e5c5e94d2536fcd8d61a4ad9b42877"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#a64e5c5e94d2536fcd8d61a4ad9b42877">_Is_Seg_Ingersection_PtoM</a> (self, <a class="el" href="classPlanner_1_1OkayPlan.html#aa006005fbe435075683b6e07e4944a94">P</a>, M)</td></tr>
<tr class="separator:a64e5c5e94d2536fcd8d61a4ad9b42877"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8207aa6109d5484eb0babb59f7d2e1ff"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#a8207aa6109d5484eb0babb59f7d2e1ff">_get_Obs_Penalty</a> (self)</td></tr>
<tr class="separator:a8207aa6109d5484eb0babb59f7d2e1ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9612f7960b59aedbcf8a47ca6a9878eb"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#a9612f7960b59aedbcf8a47ca6a9878eb">_get_Shake_Penalty</a> (self)</td></tr>
<tr class="separator:a9612f7960b59aedbcf8a47ca6a9878eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47838547b3bf7b5bad81ec4e74504e64"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#a47838547b3bf7b5bad81ec4e74504e64">_get_fitness</a> (self)</td></tr>
<tr class="separator:a47838547b3bf7b5bad81ec4e74504e64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe3101e74a83c7fbf68d4d3c4ef6adec"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#abe3101e74a83c7fbf68d4d3c4ef6adec">_iterate</a> (self)</td></tr>
<tr class="separator:abe3101e74a83c7fbf68d4d3c4ef6adec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d095d95f6129a3242adc46262c07c98"><td class="memItemLeft" align="right" valign="top">np.ndarray&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#a8d095d95f6129a3242adc46262c07c98">_calculate_waypoints_BendingAngles</a> (self, np.ndarray waypoints)</td></tr>
<tr class="separator:a8d095d95f6129a3242adc46262c07c98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab70f0f845f03b200a5b81462efa710c1"><td class="memItemLeft" align="right" valign="top">np.ndarray&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#ab70f0f845f03b200a5b81462efa710c1">_waypoints_filter</a> (self, np.ndarray waypoints)</td></tr>
<tr class="separator:ab70f0f845f03b200a5b81462efa710c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a306b0b64e432a672a1851ee4cd16dab0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#a306b0b64e432a672a1851ee4cd16dab0">_get_Obs_Penalty</a></td></tr>
<tr class="separator:a306b0b64e432a672a1851ee4cd16dab0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8910a5f023c6e60f7ced3b616f44d91"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPlanner_1_1OkayPlan.html#ad8910a5f023c6e60f7ced3b616f44d91">_get_Shake_Penalty</a></td></tr>
<tr class="separator:ad8910a5f023c6e60f7ced3b616f44d91"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">OkayPlan: A real-time path planner for dynamic environment
Author: Jinghao Xin, Jinwoo Kim, Shengjia Chu, and Ning Li

Paper Web: https://www.sciencedirect.com/science/article/pii/S002980182401179X
Code Web: https://github.com/XinJingHao/OkayPlan

Cite this algorithm:
@article{XinOkayPlan,
title = {OkayPlan: Obstacle Kinematics Augmented Dynamic real-time path Planning via particle swarm optimization},
journal = {Ocean Engineering},
volume = {303},
pages = {117841},
year = {2024},
issn = {0029-8018},
doi = {https://doi.org/10.1016/j.oceaneng.2024.117841},
url = {https://www.sciencedirect.com/science/article/pii/S002980182401179X},
author = {Jinghao Xin and Jinwoo Kim and Shengjia Chu and Ning Li}}

Only for non-commercial purposes
All rights reserved
</pre><pre class="fragment">OkayPlan: A real-time path planner for dynamic environment
Author: Jinghao Xin, Jinwoo Kim, Shengjia Chu, and Ning Li

Paper Web: https://www.sciencedirect.com/science/article/pii/S002980182401179X
Code Web: https://github.com/XinJingHao/OkayPlan

Cite this algorithm:
@article{XinOkayPlan,
title = {OkayPlan: Obstacle Kinematics Augmented Dynamic real-time path Planning via particle swarm optimization},
journal = {Ocean Engineering},
volume = {303},
pages = {117841},
year = {2024},
issn = {0029-8018},
doi = {https://doi.org/10.1016/j.oceaneng.2024.117841},
url = {https://www.sciencedirect.com/science/article/pii/S002980182401179X},
author = {Jinghao Xin and Jinwoo Kim and Shengjia Chu and Ning Li}}

Only for non-commercial purposes
All rights reserved
------------------------------------
Improved:
1. add ShakePenalty
2. add _Uniform_interpolation_path for DPI
3. add e-greedy Priori_Path_Init in OkayPlan_main.py</pre> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ad61407d32a1a6a5b90e307ac19ce9345"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad61407d32a1a6a5b90e307ac19ce9345">&#9670;&nbsp;</a></span>__init__() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def Planner.OkayPlan.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>opt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    <span class="keyword">def </span>__init__(self, opt, params):</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;        self.dvc = opt.dvc  <span class="comment"># 运算平台</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160; </div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;Hyperparameter Initialization&#39;&#39;&#39;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;        self.params = params <span class="comment"># 该组参数的Group Number=8</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;        self.G = 8 <span class="comment"># Group数量应该严格等于生成params时的种群数量</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;        <span class="comment"># Inertia Initialization for 8 Groups:</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;        self.w_init = self.params[0:self.G].unsqueeze(-1).unsqueeze(-1)</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;        self.w_end = (self.params[0:self.G] * self.params[self.G:(2 * self.G)]).unsqueeze(-1).unsqueeze(-1)</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;        self.Max_iterations = opt.Max_iterations  <span class="comment"># 每帧的最大迭代次数</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;        self.w_delta = (self.w_init - self.w_end) / self.Max_iterations  <span class="comment"># (G,1,1)</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;        <span class="comment"># Velocity Initialization for 8 Groups:</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;        self.v_limit_ratio = self.params[(2 * self.G):(3 * self.G)].unsqueeze(-1).unsqueeze(-1)  <span class="comment"># (G,1,1)</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;        self.v_init_ratio = 0.7 * self.v_limit_ratio  <span class="comment"># (G,1,1)</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;        <span class="comment"># H Matrix, (4,G=8,1,1):</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;        self.Hyper = torch.ones((4, self.G), device=self.dvc)</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;        self.Hyper[1] = self.params[(3 * self.G):(4 * self.G)]</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        self.Hyper[2] = self.params[(4 * self.G):(5 * self.G)]</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;        self.Hyper[3] = self.params[(5 * self.G):(6 * self.G)]</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;        self.Hyper.unsqueeze_(-1).unsqueeze_(-1)</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160; </div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;Particle Related: 注意本代码的搜索空间单位为m&#39;&#39;&#39;</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        self.N, self.D = opt.N, opt.D <span class="comment"># number of Groups, particles in goups, and particle dimension</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        self.arange_idx = torch.arange(self.G, device=self.dvc)  <span class="comment"># 索引常量</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        self.Search_range = opt.Search_range  <span class="comment"># search space of the Particles</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        self.Random = torch.zeros((4,self.G,self.N, 1), device=self.dvc)</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        self.Kinmtc = torch.zeros((4, self.G, self.N, self.D), device=self.dvc)  <span class="comment"># [V,Pbest,Gbest,Tbest]</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        self.Locate = torch.zeros((4, self.G, self.N, self.D), device=self.dvc) <span class="comment"># [0,X,X,X]</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        self.V_offset = 20*opt.map_size/366 <span class="comment"># 用于设置粒子速度 (20是针对366的map而言的,这里需要scale一下)</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160; </div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;Path Related&#39;&#39;&#39;</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        self.NP = opt.NP <span class="comment"># 每个粒子所代表的路径的端点数量</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        self.S = self.NP-1 <span class="comment"># 每个粒子所代表的路径的线段数量</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        self.P = self.G*self.N*self.S <span class="comment"># 所有粒子所代表的路径的线段总数量</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        self.rd_area = 0.5 * (self.Search_range[1] - self.Search_range[0]) / (self.S)  <span class="comment"># SEPSO中先验知识初始化粒子时的随机范围</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        self.ShakePenalty = opt.ShakePenalty</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160; </div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;Auto Truncation&#39;&#39;&#39;</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        <span class="comment"># For info, check https://arxiv.org/abs/2308.10169</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        self.AT = <span class="keyword">True</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        self.TrucWindow = 20</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        self.std_Trsd = opt.Quality  <span class="comment"># 自动截断判据中,std的阈值: 越小,每次规划耗时越多,但结果更好更稳定. 应在实时性和规划质量间折衷(原论文中取的10)</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160; </div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;Dynamic Prioritized Initialization&#39;&#39;&#39;</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        self.DPI = opt.DPI</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160; </div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;GuidePoint Initialization&#39;&#39;&#39;</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        self.angles_trsd = 0.2 <span class="comment"># 转折角阈值, rad</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        self.discounted_D = 0.6*4 <span class="comment"># 局部路径规划阈值(这里4为Sparrow训练时的D), m</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        self.length_trsd = 0.5 <span class="comment"># 选择targetpoint作为guidepoint的阈值, m</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        self.waypoints_trsd = 0.2 <span class="comment"># waypoints过滤的阈值(删除距离太近的waypoint)</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160; </div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;Compile: slow down the first planning, but boost the following planning&#39;&#39;&#39;</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        <span class="keywordflow">if</span> opt.compile:</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;            self._get_Obs_Penalty = torch.compile(self._get_Obs_Penalty)</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;            self._get_Shake_Penalty = torch.compile(self._get_Shake_Penalty)</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;            print(<span class="stringliteral">&quot;When use OkayPlan, you can set &#39;compile=True&#39; to boost the planning speed.&quot;</span>)</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160; </div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classPlanner_1_1OkayPlan.html#ad61407d32a1a6a5b90e307ac19ce9345">Planner.OkayPlan.__init__()</a>.</p>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classPlanner_1_1OkayPlan_ad61407d32a1a6a5b90e307ac19ce9345_icgraph.png" border="0" usemap="#classPlanner_1_1OkayPlan_ad61407d32a1a6a5b90e307ac19ce9345_icgraph" alt=""/></div>
<map name="classPlanner_1_1OkayPlan_ad61407d32a1a6a5b90e307ac19ce9345_icgraph" id="classPlanner_1_1OkayPlan_ad61407d32a1a6a5b90e307ac19ce9345_icgraph">
<area shape="rect" title=" " alt="" coords="5,29,153,71"/>
</map>
</div>

</div>
</div>
<a id="ad61407d32a1a6a5b90e307ac19ce9345"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad61407d32a1a6a5b90e307ac19ce9345">&#9670;&nbsp;</a></span>__init__() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def Planner.OkayPlan.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>opt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <span class="keyword">def </span>__init__(self, opt, params):</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;        self.dvc = opt.dvc  <span class="comment"># 运算平台</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160; </div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;Hyperparameter Initialization&#39;&#39;&#39;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;        self.params = params <span class="comment"># 该组参数的Group Number=8</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;        self.G = 8 <span class="comment"># Group数量应该严格等于生成params时的种群数量</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;        <span class="comment"># Inertia Initialization for 8 Groups:</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;        self.w_init = self.params[0:self.G].unsqueeze(-1).unsqueeze(-1)</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;        self.w_end = (self.params[0:self.G] * self.params[self.G:(2 * self.G)]).unsqueeze(-1).unsqueeze(-1)</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;        self.Max_iterations = opt.Max_iterations  <span class="comment"># 每帧的最大迭代次数</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        self.w_delta = (self.w_init - self.w_end) / self.Max_iterations  <span class="comment"># (G,1,1)</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;        <span class="comment"># Velocity Initialization for 8 Groups:</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;        self.v_limit_ratio = self.params[(2 * self.G):(3 * self.G)].unsqueeze(-1).unsqueeze(-1)  <span class="comment"># (G,1,1)</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        self.v_init_ratio = 0.7 * self.v_limit_ratio  <span class="comment"># (G,1,1)</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        <span class="comment"># H Matrix, (4,G=8,1,1):</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        self.Hyper = torch.ones((4, self.G), device=self.dvc)</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        self.Hyper[1] = self.params[(3 * self.G):(4 * self.G)]</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        self.Hyper[2] = self.params[(4 * self.G):(5 * self.G)]</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        self.Hyper[3] = self.params[(5 * self.G):(6 * self.G)]</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        self.Hyper.unsqueeze_(-1).unsqueeze_(-1)</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160; </div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;Particle Related: 注意本代码的搜索空间单位为m&#39;&#39;&#39;</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        self.N, self.D = opt.N, opt.D <span class="comment"># number of Groups, particles in goups, and particle dimension</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        self.arange_idx = torch.arange(self.G, device=self.dvc)  <span class="comment"># 索引常量</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        self.Search_range = opt.Search_range  <span class="comment"># search space of the Particles</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        self.Random = torch.zeros((4,self.G,self.N, 1), device=self.dvc)</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        self.Kinmtc = torch.zeros((4, self.G, self.N, self.D), device=self.dvc)  <span class="comment"># [V,Pbest,Gbest,Tbest]</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        self.Locate = torch.zeros((4, self.G, self.N, self.D), device=self.dvc) <span class="comment"># [0,X,X,X]</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        self.V_offset = 20*opt.map_size/366 <span class="comment"># 用于设置粒子速度 (20是针对366的map而言的,这里需要scale一下)</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160; </div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;Path Related&#39;&#39;&#39;</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        self.NP = opt.NP <span class="comment"># 每个粒子所代表的路径的端点数量</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        self.S = self.NP-1 <span class="comment"># 每个粒子所代表的路径的线段数量</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        self.P = self.G*self.N*self.S <span class="comment"># 所有粒子所代表的路径的线段总数量</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        self.rd_area = 0.5 * (self.Search_range[1] - self.Search_range[0]) / (self.S)  <span class="comment"># SEPSO中先验知识初始化粒子时的随机范围</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        self.ShakePenalty = opt.ShakePenalty</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160; </div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;Auto Truncation&#39;&#39;&#39;</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        <span class="comment"># For info, check https://arxiv.org/abs/2308.10169</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        self.AT = <span class="keyword">True</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        self.TrucWindow = 20</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        self.std_Trsd = opt.Quality  <span class="comment"># 自动截断判据中,std的阈值: 越小,每次规划耗时越多,但结果更好更稳定. 应在实时性和规划质量间折衷(原论文中取的10)</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160; </div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;Dynamic Prioritized Initialization&#39;&#39;&#39;</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        self.DPI = opt.DPI</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160; </div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;GuidePoint Initialization&#39;&#39;&#39;</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        self.angles_trsd = 0.2 <span class="comment"># 转折角阈值, rad</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        self.discounted_D = 0.6*4 <span class="comment"># 局部路径规划阈值(这里4为Sparrow训练时的D), m</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        self.length_trsd = 0.5 <span class="comment"># 选择targetpoint作为guidepoint的阈值, m</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        self.waypoints_trsd = 0.2 <span class="comment"># waypoints过滤的阈值(删除距离太近的waypoint)</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160; </div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;Compile: slow down the first planning, but boost the following planning&#39;&#39;&#39;</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        <span class="keywordflow">if</span> opt.compile:</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;            self._get_Obs_Penalty = torch.compile(self._get_Obs_Penalty)</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;            self._get_Shake_Penalty = torch.compile(self._get_Shake_Penalty)</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;            print(<span class="stringliteral">&quot;When use OkayPlan, you can set &#39;compile=True&#39; to boost the planning speed.&quot;</span>)</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160; </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classPlanner_1_1OkayPlan.html#ad61407d32a1a6a5b90e307ac19ce9345">Planner.OkayPlan.__init__()</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a306b0b64e432a672a1851ee4cd16dab0">Planner.OkayPlan._get_Obs_Penalty</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#ad8910a5f023c6e60f7ced3b616f44d91">Planner.OkayPlan._get_Shake_Penalty</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a9a6db39585d3b350f77bae9903826c23">Planner.OkayPlan.angles_trsd</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a19e4973e0b60041d5cfb5b2d84f6b6fd">Planner.OkayPlan.arange_idx</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a052af9afd43819946b301a24fd009ca8">Planner.OkayPlan.AT</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#ad4584275ff2f88accc11f19061027d70">Planner.OkayPlan.D</a>, <a class="el" href="classColorDynamic__main_1_1Q__Transformer.html#a34ce0dfa67b2d0f7513ef68b0bed7478">ColorDynamic_main.Q_Transformer.D</a>, <a class="el" href="classTrans__DDQN__play_1_1Q__Transformer.html#ade04eecbb4c635f0a4ca467014f535d5">Trans_DDQN_play.Q_Transformer.D</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a7e4ba375f9819a70b327c540b9eeb215">Planner.OkayPlan.discounted_D</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a55580e5c75edf5972a790f0b2fa7779b">Planner.OkayPlan.DPI</a>, <a class="el" href="classReplayBuffer_1_1TimeWindowReplayBuffer__NTD.html#a04b6e98b360903192d2583e1b8ffba70">ReplayBuffer.TimeWindowReplayBuffer_NTD.dvc</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a439c78cd75fe21e6816d5d47235eec08">Planner.OkayPlan.dvc</a>, <a class="el" href="classEnv__OkayPlan_1_1Env__4__OkayPlan.html#ae2ba3fa8973048341b8388615bc81a01">Env_OkayPlan.Env_4_OkayPlan.dvc</a>, <a class="el" href="classColorDynamic__main_1_1DDQN__Transformer__Agent__play.html#af2841dd3635ed68c00303958ac98759b">ColorDynamic_main.DDQN_Transformer_Agent_play.dvc</a>, <a class="el" href="classTrans__DDQN__play_1_1DDQN__Transformer__Agent__play.html#a5584d6f23b39ff31f1f809483879c042">Trans_DDQN_play.DDQN_Transformer_Agent_play.dvc</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a6cdc1efe757f2adc1072ab956bb968fd">Planner.OkayPlan.G</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a18e73d4da214894e39e8b1265f9bdc12">Planner.OkayPlan.Hyper</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a633fd32e8a7480eef98c92565224a7d5">Planner.OkayPlan.Kinmtc</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a69d6234026716407e99630c157071f7b">Planner.OkayPlan.length_trsd</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a13c6a19f9ae239c0c0a48c4e8b432298">Planner.OkayPlan.Locate</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#aa82d7ecbf6e8fe5164f9262f424096b6">Planner.OkayPlan.Max_iterations</a>, <a class="el" href="classReplayBuffer_1_1TimeWindowReplayBuffer__NTD.html#a6bc6432f79b969ddad4db10c299dd34a">ReplayBuffer.TimeWindowReplayBuffer_NTD.N</a>, <a class="el" href="classColorDynamic__main_1_1DDQN__Transformer__Agent__play.html#ab24b96b9f80b7b3a624f745e24e50798">ColorDynamic_main.DDQN_Transformer_Agent_play.N</a>, <a class="el" href="classTrans__DDQN__play_1_1DDQN__Transformer__Agent__play.html#a59623d50d94c959c4e0cc12332dab9c6">Trans_DDQN_play.DDQN_Transformer_Agent_play.N</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a048d09cbc1a40abdd41e297d4972ca1b">Planner.OkayPlan.NP</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#aa006005fbe435075683b6e07e4944a94">Planner.OkayPlan.P</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a179a8f5a4b2423d433e51955ec492b67">Planner.OkayPlan.params</a>, <a class="el" href="structsfm_1_1Agent.html#a578ac6cb85e4eb8e24869defcce0c6a7">sfm::Agent.params</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a79d1bd3b14a7850708f6d6df1d1747b6">Planner.OkayPlan.Random</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a64c817618c60cd096432f72bd0eef4b3">Planner.OkayPlan.rd_area</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a157d96c0eb55385ee1fbed403590859b">Planner.OkayPlan.S</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#ab8e9d17cbc8936718abe21a1b64ae8bf">Planner.OkayPlan.Search_range</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#aeff493dcaa86b1cf5556ec96ebb4cf45">Planner.OkayPlan.ShakePenalty</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a31d135887145f2d82da44ef991268806">Planner.OkayPlan.std_Trsd</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a2dd336a7cf894fd1cc7af56dd137243b">Planner.OkayPlan.TrucWindow</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#aed19fa32b9f3ae64bd29d16169118179">Planner.OkayPlan.v_init_ratio</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a0b61ad18fcc7f221a129b262da76279c">Planner.OkayPlan.v_limit_ratio</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a4b9f26e30add99f9de5deb35562062d4">Planner.OkayPlan.V_offset</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a5e90cdc498fafef6da0d906f7f9cf860">Planner.OkayPlan.w_delta</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a584a44fe94e8e3f1a980e073063b70fa">Planner.OkayPlan.w_end</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a4f3828cbb03403df32dfa7f970e41bcd">Planner.OkayPlan.w_init</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#aac451eabcb693186e9801619045afe47">Planner.OkayPlan.waypoints_trsd</a>.</p>
<div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classPlanner_1_1OkayPlan_ad61407d32a1a6a5b90e307ac19ce9345_cgraph.png" border="0" usemap="#classPlanner_1_1OkayPlan_ad61407d32a1a6a5b90e307ac19ce9345_cgraph" alt=""/></div>
<map name="classPlanner_1_1OkayPlan_ad61407d32a1a6a5b90e307ac19ce9345_cgraph" id="classPlanner_1_1OkayPlan_ad61407d32a1a6a5b90e307ac19ce9345_cgraph">
<area shape="rect" title=" " alt="" coords="5,29,153,71"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a8d095d95f6129a3242adc46262c07c98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d095d95f6129a3242adc46262c07c98">&#9670;&nbsp;</a></span>_calculate_waypoints_BendingAngles() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> np.ndarray Planner.OkayPlan._calculate_waypoints_BendingAngles </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">np.ndarray&#160;</td>
          <td class="paramname"><em>waypoints</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">收入: N个waypoints的2维坐标, (N,2)
输出: 除去起点和终点，剩余点的转折度, (N-2,)
第K个点的转折度=向量(K-1,K)和向量(K,K+1)的夹角的绝对值
</pre> <div class="fragment"><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="keyword">def </span>_calculate_waypoints_BendingAngles(self, waypoints: np.ndarray) -&gt; np.ndarray:</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="stringliteral">        收入: N个waypoints的2维坐标, (N,2)</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="stringliteral">        输出: 除去起点和终点，剩余点的转折度, (N-2,)</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="stringliteral">        第K个点的转折度=向量(K-1,K)和向量(K,K+1)的夹角的绝对值</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        <span class="keywordflow">if</span> waypoints.shape[0] &lt; 3: <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&quot;Requires at least 3 waypoints!&quot;</span>)</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160; </div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        <span class="comment"># 计算 (K-1, K) 和 (K, K+1) 的向量</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;        vectors1 = waypoints[1:-1] - waypoints[:-2]</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        vectors2 = waypoints[2:] - waypoints[1:-1]</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160; </div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        <span class="comment"># 计算向量的模长</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;        norms1 = np.linalg.norm(vectors1, axis=1)</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        norms2 = np.linalg.norm(vectors2, axis=1)</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160; </div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        <span class="comment"># 计算余弦值</span></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        cos_theta = np.sum(vectors1 * vectors2, axis=1) / (norms1 * norms2+1e-6)</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160; </div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        <span class="comment"># 返回转折度(夹角)</span></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        <span class="keywordflow">return</span> np.arccos(cos_theta)</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160; </div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classPlanner_1_1OkayPlan.html#a8d095d95f6129a3242adc46262c07c98">Planner.OkayPlan._calculate_waypoints_BendingAngles()</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#a5dbe90fd6d2563bcabb7a1d640023af6">Planner.OkayPlan.get_guidepoint_old()</a>.</p>
<div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classPlanner_1_1OkayPlan_a8d095d95f6129a3242adc46262c07c98_icgraph.png" border="0" usemap="#classPlanner_1_1OkayPlan_a8d095d95f6129a3242adc46262c07c98_icgraph" alt=""/></div>
<map name="classPlanner_1_1OkayPlan_a8d095d95f6129a3242adc46262c07c98_icgraph" id="classPlanner_1_1OkayPlan_a8d095d95f6129a3242adc46262c07c98_icgraph">
<area shape="rect" title=" " alt="" coords="216,29,423,71"/>
<area shape="rect" href="classPlanner_1_1OkayPlan.html#a5dbe90fd6d2563bcabb7a1d640023af6" title=" " alt="" coords="5,29,168,71"/>
</map>
</div>

</div>
</div>
<a id="a8d095d95f6129a3242adc46262c07c98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d095d95f6129a3242adc46262c07c98">&#9670;&nbsp;</a></span>_calculate_waypoints_BendingAngles() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> np.ndarray Planner.OkayPlan._calculate_waypoints_BendingAngles </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">np.ndarray&#160;</td>
          <td class="paramname"><em>waypoints</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">收入: N个waypoints的2维坐标, (N,2)
输出: 除去起点和终点，剩余点的转折度, (N-2,)
第K个点的转折度=向量(K-1,K)和向量(K,K+1)的夹角的绝对值
</pre> <div class="fragment"><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <span class="keyword">def </span>_calculate_waypoints_BendingAngles(self, waypoints: np.ndarray) -&gt; np.ndarray:</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="stringliteral">        收入: N个waypoints的2维坐标, (N,2)</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="stringliteral">        输出: 除去起点和终点，剩余点的转折度, (N-2,)</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="stringliteral">        第K个点的转折度=向量(K-1,K)和向量(K,K+1)的夹角的绝对值</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;        <span class="keywordflow">if</span> waypoints.shape[0] &lt; 3: <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&quot;Requires at least 3 waypoints!&quot;</span>)</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160; </div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        <span class="comment"># 计算 (K-1, K) 和 (K, K+1) 的向量</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        vectors1 = waypoints[1:-1] - waypoints[:-2]</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        vectors2 = waypoints[2:] - waypoints[1:-1]</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160; </div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        <span class="comment"># 计算向量的模长</span></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        norms1 = np.linalg.norm(vectors1, axis=1)</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        norms2 = np.linalg.norm(vectors2, axis=1)</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160; </div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;        <span class="comment"># 计算余弦值</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        cos_theta = np.sum(vectors1 * vectors2, axis=1) / (norms1 * norms2+1e-6)</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160; </div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        <span class="comment"># 返回转折度(夹角)</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        <span class="keywordflow">return</span> np.arccos(cos_theta)</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160; </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classPlanner_1_1OkayPlan.html#a8d095d95f6129a3242adc46262c07c98">Planner.OkayPlan._calculate_waypoints_BendingAngles()</a>.</p>
<div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classPlanner_1_1OkayPlan_a8d095d95f6129a3242adc46262c07c98_cgraph.png" border="0" usemap="#classPlanner_1_1OkayPlan_a8d095d95f6129a3242adc46262c07c98_cgraph" alt=""/></div>
<map name="classPlanner_1_1OkayPlan_a8d095d95f6129a3242adc46262c07c98_cgraph" id="classPlanner_1_1OkayPlan_a8d095d95f6129a3242adc46262c07c98_cgraph">
<area shape="rect" title=" " alt="" coords="5,29,212,71"/>
</map>
</div>

</div>
</div>
<a id="a6d482dcdc0f0a76af063b58b2f11a41a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d482dcdc0f0a76af063b58b2f11a41a">&#9670;&nbsp;</a></span>_Cross_product_for_VectorSet() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def Planner.OkayPlan._Cross_product_for_VectorSet </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>V_PM</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>V_PP</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">计算 向量集V_PM 和  向量集V_PP 的交叉积 (x0*y1-x1*y0)
    V_PM = torch.tensor((p, m, 2, 2))
    V_PP = torch.tensor((p,2))
    Output = torch.tensor((p, m, 2))</pre> <div class="fragment"><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="keyword">def </span>_Cross_product_for_VectorSet(self, V_PM, V_PP):</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;计算 向量集V_PM 和  向量集V_PP 的交叉积 (x0*y1-x1*y0)</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="stringliteral">            V_PM = torch.tensor((p, m, 2, 2))</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="stringliteral">            V_PP = torch.tensor((p,2))</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="stringliteral">            Output = torch.tensor((p, m, 2))&#39;&#39;&#39;</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        <span class="keywordflow">return</span> V_PM[:, :, :, 0] * V_PP[:, 1, <span class="keywordtype">None</span>, <span class="keywordtype">None</span>] - V_PM[:, :, :, 1] * V_PP[:, 0, <span class="keywordtype">None</span>, <span class="keywordtype">None</span>]</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160; </div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classPlanner_1_1OkayPlan.html#a6d482dcdc0f0a76af063b58b2f11a41a">Planner.OkayPlan._Cross_product_for_VectorSet()</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#a64e5c5e94d2536fcd8d61a4ad9b42877">Planner.OkayPlan._Is_Seg_Ingersection_PtoM()</a>.</p>
<div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classPlanner_1_1OkayPlan_a6d482dcdc0f0a76af063b58b2f11a41a_icgraph.png" border="0" usemap="#classPlanner_1_1OkayPlan_a6d482dcdc0f0a76af063b58b2f11a41a_icgraph" alt=""/></div>
<map name="classPlanner_1_1OkayPlan_a6d482dcdc0f0a76af063b58b2f11a41a_icgraph" id="classPlanner_1_1OkayPlan_a6d482dcdc0f0a76af063b58b2f11a41a_icgraph">
<area shape="rect" title=" " alt="" coords="451,29,635,71"/>
<area shape="rect" href="classPlanner_1_1OkayPlan.html#a64e5c5e94d2536fcd8d61a4ad9b42877" title=" " alt="" coords="223,29,403,71"/>
<area shape="rect" href="classPlanner_1_1OkayPlan.html#a8207aa6109d5484eb0babb59f7d2e1ff" title=" " alt="" coords="5,29,175,71"/>
</map>
</div>

</div>
</div>
<a id="a6d482dcdc0f0a76af063b58b2f11a41a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d482dcdc0f0a76af063b58b2f11a41a">&#9670;&nbsp;</a></span>_Cross_product_for_VectorSet() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def Planner.OkayPlan._Cross_product_for_VectorSet </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>V_PM</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>V_PP</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">计算 向量集V_PM 和  向量集V_PP 的交叉积 (x0*y1-x1*y0)
    V_PM = torch.tensor((p, m, 2, 2))
    V_PP = torch.tensor((p,2))
    Output = torch.tensor((p, m, 2))</pre> <div class="fragment"><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="keyword">def </span>_Cross_product_for_VectorSet(self, V_PM, V_PP):</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;计算 向量集V_PM 和  向量集V_PP 的交叉积 (x0*y1-x1*y0)</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="stringliteral">            V_PM = torch.tensor((p, m, 2, 2))</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="stringliteral">            V_PP = torch.tensor((p,2))</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="stringliteral">            Output = torch.tensor((p, m, 2))&#39;&#39;&#39;</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        <span class="keywordflow">return</span> V_PM[:, :, :, 0] * V_PP[:, 1, <span class="keywordtype">None</span>, <span class="keywordtype">None</span>] - V_PM[:, :, :, 1] * V_PP[:, 0, <span class="keywordtype">None</span>, <span class="keywordtype">None</span>]</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160; </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classPlanner_1_1OkayPlan.html#a6d482dcdc0f0a76af063b58b2f11a41a">Planner.OkayPlan._Cross_product_for_VectorSet()</a>.</p>
<div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classPlanner_1_1OkayPlan_a6d482dcdc0f0a76af063b58b2f11a41a_cgraph.png" border="0" usemap="#classPlanner_1_1OkayPlan_a6d482dcdc0f0a76af063b58b2f11a41a_cgraph" alt=""/></div>
<map name="classPlanner_1_1OkayPlan_a6d482dcdc0f0a76af063b58b2f11a41a_cgraph" id="classPlanner_1_1OkayPlan_a6d482dcdc0f0a76af063b58b2f11a41a_cgraph">
<area shape="rect" title=" " alt="" coords="5,29,189,71"/>
</map>
</div>

</div>
</div>
<a id="aa7d29a3cc5d0fd152dacc93d5166472e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7d29a3cc5d0fd152dacc93d5166472e">&#9670;&nbsp;</a></span>_fix_apex() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def Planner.OkayPlan._fix_apex </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">固定路径的首末端点, 注意x_start,y_start,x_target,y_target都是标量</pre> <div class="fragment"><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="keyword">def </span>_fix_apex(self):</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;固定路径的首末端点, 注意x_start,y_start,x_target,y_target都是标量&#39;&#39;&#39;</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        self.Locate[1:4, :, :, 0] = self.x_start</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        self.Locate[1:4, :, :, self.NP] = self.y_start</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        self.Locate[1:4, :, :, self.NP - 1] = self.x_target</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        self.Locate[1:4, :, :, 2 * self.NP - 1] = self.y_target</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160; </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classPlanner_1_1OkayPlan.html#a13c6a19f9ae239c0c0a48c4e8b432298">Planner.OkayPlan.Locate</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a048d09cbc1a40abdd41e297d4972ca1b">Planner.OkayPlan.NP</a>, <a class="el" href="classEnv__OkayPlan_1_1Env__4__OkayPlan.html#a5b488bc921e485f65e84c6c9ec55b9c7">Env_OkayPlan.Env_4_OkayPlan.y_start</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a6bd4d8923146e7527c5da69f66713903">Planner.OkayPlan.y_start</a>, <a class="el" href="classEnv__OkayPlan_1_1Env__4__OkayPlan.html#addd181848c724c43cea831aab0ea2fd3">Env_OkayPlan.Env_4_OkayPlan.y_target</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#ac3ba1002e7a6176736ba2fa0d3e8770d">Planner.OkayPlan.y_target</a>.</p>

<p class="reference">Referenced by <a class="el" href="classPlanner_1_1OkayPlan.html#aa7d29a3cc5d0fd152dacc93d5166472e">Planner.OkayPlan._fix_apex()</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#abe3101e74a83c7fbf68d4d3c4ef6adec">Planner.OkayPlan._iterate()</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#aae8af0c7f0ecac78d33cce7e17b7f5a9">Planner.OkayPlan._ReLocate()</a>.</p>
<div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classPlanner_1_1OkayPlan_aa7d29a3cc5d0fd152dacc93d5166472e_icgraph.png" border="0" usemap="#classPlanner_1_1OkayPlan_aa7d29a3cc5d0fd152dacc93d5166472e_icgraph" alt=""/></div>
<map name="classPlanner_1_1OkayPlan_aa7d29a3cc5d0fd152dacc93d5166472e_icgraph" id="classPlanner_1_1OkayPlan_aa7d29a3cc5d0fd152dacc93d5166472e_icgraph">
<area shape="rect" title=" " alt="" coords="717,29,921,56"/>
<area shape="rect" href="classPlanner_1_1OkayPlan.html#abe3101e74a83c7fbf68d4d3c4ef6adec" title=" " alt="" coords="223,29,413,56"/>
<area shape="rect" href="classPlanner_1_1OkayPlan.html#aae8af0c7f0ecac78d33cce7e17b7f5a9" title=" " alt="" coords="461,67,669,93"/>
<area shape="rect" href="classPlanner_1_1OkayPlan.html#ab759236b722a4767ee2d01c0407c1771" title=" " alt="" coords="5,29,175,56"/>
</map>
</div>

</div>
</div>
<a id="aa7d29a3cc5d0fd152dacc93d5166472e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7d29a3cc5d0fd152dacc93d5166472e">&#9670;&nbsp;</a></span>_fix_apex() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def Planner.OkayPlan._fix_apex </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">固定路径的首末端点, 注意x_start,y_start,x_target,y_target都是标量</pre> <div class="fragment"><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="keyword">def </span>_fix_apex(self):</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;固定路径的首末端点, 注意x_start,y_start,x_target,y_target都是标量&#39;&#39;&#39;</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        self.Locate[1:4, :, :, 0] = self.x_start</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        self.Locate[1:4, :, :, self.NP] = self.y_start</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        self.Locate[1:4, :, :, self.NP - 1] = self.x_target</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        self.Locate[1:4, :, :, 2 * self.NP - 1] = self.y_target</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160; </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classPlanner_1_1OkayPlan.html#aa7d29a3cc5d0fd152dacc93d5166472e">Planner.OkayPlan._fix_apex()</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a13c6a19f9ae239c0c0a48c4e8b432298">Planner.OkayPlan.Locate</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a048d09cbc1a40abdd41e297d4972ca1b">Planner.OkayPlan.NP</a>, <a class="el" href="classEnv__OkayPlan_1_1Env__4__OkayPlan.html#a5b488bc921e485f65e84c6c9ec55b9c7">Env_OkayPlan.Env_4_OkayPlan.y_start</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a6bd4d8923146e7527c5da69f66713903">Planner.OkayPlan.y_start</a>, <a class="el" href="classEnv__OkayPlan_1_1Env__4__OkayPlan.html#addd181848c724c43cea831aab0ea2fd3">Env_OkayPlan.Env_4_OkayPlan.y_target</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#ac3ba1002e7a6176736ba2fa0d3e8770d">Planner.OkayPlan.y_target</a>.</p>
<div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classPlanner_1_1OkayPlan_aa7d29a3cc5d0fd152dacc93d5166472e_cgraph.png" border="0" usemap="#classPlanner_1_1OkayPlan_aa7d29a3cc5d0fd152dacc93d5166472e_cgraph" alt=""/></div>
<map name="classPlanner_1_1OkayPlan_aa7d29a3cc5d0fd152dacc93d5166472e_cgraph" id="classPlanner_1_1OkayPlan_aa7d29a3cc5d0fd152dacc93d5166472e_cgraph">
<area shape="rect" title=" " alt="" coords="5,29,209,56"/>
</map>
</div>

</div>
</div>
<a id="a47838547b3bf7b5bad81ec4e74504e64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47838547b3bf7b5bad81ec4e74504e64">&#9670;&nbsp;</a></span>_get_fitness() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def Planner.OkayPlan._get_fitness </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="keyword">def </span>_get_fitness(self):</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        Segments_lenth = torch.sqrt((self.Locate[1,:,:,0:(self.NP-1)] - self.Locate[1,:,:,1:self.NP]).pow(2) +</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                             (self.Locate[1,:,:,self.NP:(2*self.NP-1)] - self.Locate[1,:,:,(self.NP+1):(2*self.NP)]).pow(2)) <span class="comment"># (G,N,S)</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        Path_lenth = Segments_lenth.sum(dim=-1) <span class="comment"># (G,N) # 总路径长度</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160; </div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        <span class="keywordflow">if</span> self.ShakePenalty &gt; 0:</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;            shake_penalty = self._get_Shake_Penalty()  <span class="comment"># 防止路径抖动; (G,N)</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;            self.shake_cefi = min(self.ShakePenalty, self.shake_cefi + 0.01)  <span class="comment"># 随着规划的进行，逐步增加抖动惩罚: 探索-&gt;利用</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;            shake_penalty = (self.shake_cefi*shake_penalty).pow_(2) <span class="comment"># 有助于抑制大抖动(L1)，鼓励小抖动(L2)</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;            shake_penalty = 0</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160; </div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        self.Obs_penalty, Pdct_Obs_penalty = self._get_Obs_Penalty()  <span class="comment"># both in (G,N)</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160; </div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        <span class="comment"># Fitness = Length_Term + shake_penalty + Collision_Penalty + Kinematics_Penalty</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        <span class="comment"># 用d2target实现Dynamic Normalization,保证不同地图尺寸时, 惩罚相都与目标相的幅值匹配</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        <span class="keywordflow">return</span> Path_lenth + shake_penalty + \</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;            self.params[48] * self.d2target * (self.Obs_penalty).pow_(self.params[49].long()) + \</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;            self.params[50] * self.d2target * (Pdct_Obs_penalty).pow_(self.params[51].long())</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160; </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classPlanner_1_1OkayPlan.html#a306b0b64e432a672a1851ee4cd16dab0">Planner.OkayPlan._get_Obs_Penalty</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#ad8910a5f023c6e60f7ced3b616f44d91">Planner.OkayPlan._get_Shake_Penalty</a>, <a class="el" href="classEnv__OkayPlan_1_1Env__4__OkayPlan.html#a531eeca512c1fcfd746dbf02ee7b5c0f">Env_OkayPlan.Env_4_OkayPlan.d2target</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a2cfb9ec8f0b66c254a2c708d7814b5c7">Planner.OkayPlan.d2target</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a13c6a19f9ae239c0c0a48c4e8b432298">Planner.OkayPlan.Locate</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a048d09cbc1a40abdd41e297d4972ca1b">Planner.OkayPlan.NP</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a179a8f5a4b2423d433e51955ec492b67">Planner.OkayPlan.params</a>, <a class="el" href="structsfm_1_1Agent.html#a578ac6cb85e4eb8e24869defcce0c6a7">sfm::Agent.params</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a3fffdc48f5ac6c7dbe2fbe8af4f197ee">Planner.OkayPlan.shake_cefi</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#aeff493dcaa86b1cf5556ec96ebb4cf45">Planner.OkayPlan.ShakePenalty</a>.</p>

<p class="reference">Referenced by <a class="el" href="classPlanner_1_1OkayPlan.html#a47838547b3bf7b5bad81ec4e74504e64">Planner.OkayPlan._get_fitness()</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#abe3101e74a83c7fbf68d4d3c4ef6adec">Planner.OkayPlan._iterate()</a>.</p>
<div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classPlanner_1_1OkayPlan_a47838547b3bf7b5bad81ec4e74504e64_icgraph.png" border="0" usemap="#classPlanner_1_1OkayPlan_a47838547b3bf7b5bad81ec4e74504e64_icgraph" alt=""/></div>
<map name="classPlanner_1_1OkayPlan_a47838547b3bf7b5bad81ec4e74504e64_icgraph" id="classPlanner_1_1OkayPlan_a47838547b3bf7b5bad81ec4e74504e64_icgraph">
<area shape="rect" title=" " alt="" coords="461,29,631,71"/>
<area shape="rect" href="classPlanner_1_1OkayPlan.html#abe3101e74a83c7fbf68d4d3c4ef6adec" title=" " alt="" coords="223,37,413,63"/>
<area shape="rect" href="classPlanner_1_1OkayPlan.html#ab759236b722a4767ee2d01c0407c1771" title=" " alt="" coords="5,37,175,63"/>
</map>
</div>

</div>
</div>
<a id="a47838547b3bf7b5bad81ec4e74504e64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47838547b3bf7b5bad81ec4e74504e64">&#9670;&nbsp;</a></span>_get_fitness() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def Planner.OkayPlan._get_fitness </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="keyword">def </span>_get_fitness(self):</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        Segments_lenth = torch.sqrt((self.Locate[1,:,:,0:(self.NP-1)] - self.Locate[1,:,:,1:self.NP]).pow(2) +</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                             (self.Locate[1,:,:,self.NP:(2*self.NP-1)] - self.Locate[1,:,:,(self.NP+1):(2*self.NP)]).pow(2)) <span class="comment"># (G,N,S)</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        Path_lenth = Segments_lenth.sum(dim=-1) <span class="comment"># (G,N) # 总路径长度</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160; </div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        <span class="keywordflow">if</span> self.ShakePenalty &gt; 0:</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;            shake_penalty = self._get_Shake_Penalty()  <span class="comment"># 防止路径抖动; (G,N)</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;            self.shake_cefi = min(self.ShakePenalty, self.shake_cefi + 0.01)  <span class="comment"># 随着规划的进行，逐步增加抖动惩罚: 探索-&gt;利用</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;            shake_penalty = (self.shake_cefi*shake_penalty).pow_(2) <span class="comment"># 有助于抑制大抖动(L1)，鼓励小抖动(L2)</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;            shake_penalty = 0</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160; </div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        self.Obs_penalty, Pdct_Obs_penalty = self._get_Obs_Penalty()  <span class="comment"># both in (G,N)</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160; </div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        <span class="comment"># Fitness = Length_Term + shake_penalty + Collision_Penalty + Kinematics_Penalty</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        <span class="comment"># 用d2target实现Dynamic Normalization,保证不同地图尺寸时, 惩罚相都与目标相的幅值匹配</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        <span class="keywordflow">return</span> Path_lenth + shake_penalty + \</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;            self.params[48] * self.d2target * (self.Obs_penalty).pow_(self.params[49].long()) + \</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;            self.params[50] * self.d2target * (Pdct_Obs_penalty).pow_(self.params[51].long())</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160; </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classPlanner_1_1OkayPlan.html#a47838547b3bf7b5bad81ec4e74504e64">Planner.OkayPlan._get_fitness()</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a306b0b64e432a672a1851ee4cd16dab0">Planner.OkayPlan._get_Obs_Penalty</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#ad8910a5f023c6e60f7ced3b616f44d91">Planner.OkayPlan._get_Shake_Penalty</a>, <a class="el" href="classEnv__OkayPlan_1_1Env__4__OkayPlan.html#a531eeca512c1fcfd746dbf02ee7b5c0f">Env_OkayPlan.Env_4_OkayPlan.d2target</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a2cfb9ec8f0b66c254a2c708d7814b5c7">Planner.OkayPlan.d2target</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a13c6a19f9ae239c0c0a48c4e8b432298">Planner.OkayPlan.Locate</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a048d09cbc1a40abdd41e297d4972ca1b">Planner.OkayPlan.NP</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a179a8f5a4b2423d433e51955ec492b67">Planner.OkayPlan.params</a>, <a class="el" href="structsfm_1_1Agent.html#a578ac6cb85e4eb8e24869defcce0c6a7">sfm::Agent.params</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a3fffdc48f5ac6c7dbe2fbe8af4f197ee">Planner.OkayPlan.shake_cefi</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#aeff493dcaa86b1cf5556ec96ebb4cf45">Planner.OkayPlan.ShakePenalty</a>.</p>
<div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classPlanner_1_1OkayPlan_a47838547b3bf7b5bad81ec4e74504e64_cgraph.png" border="0" usemap="#classPlanner_1_1OkayPlan_a47838547b3bf7b5bad81ec4e74504e64_cgraph" alt=""/></div>
<map name="classPlanner_1_1OkayPlan_a47838547b3bf7b5bad81ec4e74504e64_cgraph" id="classPlanner_1_1OkayPlan_a47838547b3bf7b5bad81ec4e74504e64_cgraph">
<area shape="rect" title=" " alt="" coords="5,29,175,71"/>
</map>
</div>

</div>
</div>
<a id="a8207aa6109d5484eb0babb59f7d2e1ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8207aa6109d5484eb0babb59f7d2e1ff">&#9670;&nbsp;</a></span>_get_Obs_Penalty() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def Planner.OkayPlan._get_Obs_Penalty </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="keyword">def </span>_get_Obs_Penalty(self):</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        <span class="comment"># 将粒子群转化为线段，并展平为(G*N*S,2,2)</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        particles = self.Locate[1].clone()  <span class="comment"># (G,N,D)</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        start_points = torch.stack((particles[:,:,0:(self.NP-1)], particles[:,:,self.NP:(2*self.NP-1)]), dim=-1) <span class="comment">#(G,N,S,2), S条线段的起点坐标</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        end_points = torch.stack((particles[:,:,1:self.NP], particles[:,:,(self.NP+1):2*self.NP]), dim=-1) <span class="comment">#(G,N,S,2), S条线段的终点坐标</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        Segments = torch.stack((start_points, end_points),dim=-2) <span class="comment">#(G,N,S,2,2), (G,N,S)条线段的端点坐标</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        flatted_Segments = Segments.reshape((self.P,2,2)) <span class="comment"># (G*N*S,2,2), 将所有粒子展平为G*N*S条线段</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160; </div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        <span class="comment"># 将展平后的粒子群线段 与 地图中的障碍物边界线段 进行跨立实验，得到交叉矩阵</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        Intersect_Matrix = self._Is_Seg_Ingersection_PtoM(flatted_Segments, self.Obs_Segments) <span class="comment"># (P,M)</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        Current_Obs_penalty = Intersect_Matrix.sum(dim=-1).reshape((self.G,self.N,self.S)).sum(dim=-1) <span class="comment">#(G,N)</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160; </div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        <span class="comment"># 将展平后的粒子群线段 与 障碍物运动轨迹线段 进行跨立实验，得到交叉矩阵</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        Pdct_Intersect_Matrix = self._Is_Seg_Ingersection_PtoM(flatted_Segments, self.Flat_pdct_segments) <span class="comment"># (P,M)</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        Pdct_Obs_penalty = Pdct_Intersect_Matrix.sum(dim=-1).reshape((self.G, self.N, self.S)).sum(dim=-1)  <span class="comment"># (G,N)</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        <span class="keywordflow">return</span> Current_Obs_penalty, Pdct_Obs_penalty</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160; </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classPlanner_1_1OkayPlan.html#a306b0b64e432a672a1851ee4cd16dab0">Planner.OkayPlan._get_Obs_Penalty</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a64e5c5e94d2536fcd8d61a4ad9b42877">Planner.OkayPlan._Is_Seg_Ingersection_PtoM()</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a2a324f5d1042bb16cfbb9a3e0b924715">Planner.OkayPlan.Flat_pdct_segments</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a6cdc1efe757f2adc1072ab956bb968fd">Planner.OkayPlan.G</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a13c6a19f9ae239c0c0a48c4e8b432298">Planner.OkayPlan.Locate</a>, <a class="el" href="classReplayBuffer_1_1TimeWindowReplayBuffer__NTD.html#a6bc6432f79b969ddad4db10c299dd34a">ReplayBuffer.TimeWindowReplayBuffer_NTD.N</a>, <a class="el" href="classColorDynamic__main_1_1DDQN__Transformer__Agent__play.html#ab24b96b9f80b7b3a624f745e24e50798">ColorDynamic_main.DDQN_Transformer_Agent_play.N</a>, <a class="el" href="classTrans__DDQN__play_1_1DDQN__Transformer__Agent__play.html#a59623d50d94c959c4e0cc12332dab9c6">Trans_DDQN_play.DDQN_Transformer_Agent_play.N</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a048d09cbc1a40abdd41e297d4972ca1b">Planner.OkayPlan.NP</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#ad529858a4c9b90ec9a0e85588d723481">Planner.OkayPlan.Obs_Segments</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#aa006005fbe435075683b6e07e4944a94">Planner.OkayPlan.P</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#a157d96c0eb55385ee1fbed403590859b">Planner.OkayPlan.S</a>.</p>
<div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classPlanner_1_1OkayPlan_a8207aa6109d5484eb0babb59f7d2e1ff_cgraph.png" border="0" usemap="#classPlanner_1_1OkayPlan_a8207aa6109d5484eb0babb59f7d2e1ff_cgraph" alt=""/></div>
<map name="classPlanner_1_1OkayPlan_a8207aa6109d5484eb0babb59f7d2e1ff_cgraph" id="classPlanner_1_1OkayPlan_a8207aa6109d5484eb0babb59f7d2e1ff_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,175,47"/>
<area shape="rect" href="classPlanner_1_1OkayPlan.html#a64e5c5e94d2536fcd8d61a4ad9b42877" title=" " alt="" coords="223,5,403,47"/>
<area shape="rect" href="classPlanner_1_1OkayPlan.html#a6d482dcdc0f0a76af063b58b2f11a41a" title=" " alt="" coords="451,5,635,47"/>
</map>
</div>

</div>
</div>
<a id="a8207aa6109d5484eb0babb59f7d2e1ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8207aa6109d5484eb0babb59f7d2e1ff">&#9670;&nbsp;</a></span>_get_Obs_Penalty() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def Planner.OkayPlan._get_Obs_Penalty </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keyword">def </span>_get_Obs_Penalty(self):</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        <span class="comment"># 将粒子群转化为线段，并展平为(G*N*S,2,2)</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        particles = self.Locate[1].clone()  <span class="comment"># (G,N,D)</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        start_points = torch.stack((particles[:,:,0:(self.NP-1)], particles[:,:,self.NP:(2*self.NP-1)]), dim=-1) <span class="comment">#(G,N,S,2), S条线段的起点坐标</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        end_points = torch.stack((particles[:,:,1:self.NP], particles[:,:,(self.NP+1):2*self.NP]), dim=-1) <span class="comment">#(G,N,S,2), S条线段的终点坐标</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        Segments = torch.stack((start_points, end_points),dim=-2) <span class="comment">#(G,N,S,2,2), (G,N,S)条线段的端点坐标</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        flatted_Segments = Segments.reshape((self.P,2,2)) <span class="comment"># (G*N*S,2,2), 将所有粒子展平为G*N*S条线段</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160; </div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        <span class="comment"># 将展平后的粒子群线段 与 地图中的障碍物边界线段 进行跨立实验，得到交叉矩阵</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        Intersect_Matrix = self._Is_Seg_Ingersection_PtoM(flatted_Segments, self.Obs_Segments) <span class="comment"># (P,M)</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        Current_Obs_penalty = Intersect_Matrix.sum(dim=-1).reshape((self.G,self.N,self.S)).sum(dim=-1) <span class="comment">#(G,N)</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160; </div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        <span class="comment"># 将展平后的粒子群线段 与 障碍物运动轨迹线段 进行跨立实验，得到交叉矩阵</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        Pdct_Intersect_Matrix = self._Is_Seg_Ingersection_PtoM(flatted_Segments, self.Flat_pdct_segments) <span class="comment"># (P,M)</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        Pdct_Obs_penalty = Pdct_Intersect_Matrix.sum(dim=-1).reshape((self.G, self.N, self.S)).sum(dim=-1)  <span class="comment"># (G,N)</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        <span class="keywordflow">return</span> Current_Obs_penalty, Pdct_Obs_penalty</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160; </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classPlanner_1_1OkayPlan.html#a306b0b64e432a672a1851ee4cd16dab0">Planner.OkayPlan._get_Obs_Penalty</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a64e5c5e94d2536fcd8d61a4ad9b42877">Planner.OkayPlan._Is_Seg_Ingersection_PtoM()</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a2a324f5d1042bb16cfbb9a3e0b924715">Planner.OkayPlan.Flat_pdct_segments</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a6cdc1efe757f2adc1072ab956bb968fd">Planner.OkayPlan.G</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a13c6a19f9ae239c0c0a48c4e8b432298">Planner.OkayPlan.Locate</a>, <a class="el" href="classReplayBuffer_1_1TimeWindowReplayBuffer__NTD.html#a6bc6432f79b969ddad4db10c299dd34a">ReplayBuffer.TimeWindowReplayBuffer_NTD.N</a>, <a class="el" href="classColorDynamic__main_1_1DDQN__Transformer__Agent__play.html#ab24b96b9f80b7b3a624f745e24e50798">ColorDynamic_main.DDQN_Transformer_Agent_play.N</a>, <a class="el" href="classTrans__DDQN__play_1_1DDQN__Transformer__Agent__play.html#a59623d50d94c959c4e0cc12332dab9c6">Trans_DDQN_play.DDQN_Transformer_Agent_play.N</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a048d09cbc1a40abdd41e297d4972ca1b">Planner.OkayPlan.NP</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#ad529858a4c9b90ec9a0e85588d723481">Planner.OkayPlan.Obs_Segments</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#aa006005fbe435075683b6e07e4944a94">Planner.OkayPlan.P</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#a157d96c0eb55385ee1fbed403590859b">Planner.OkayPlan.S</a>.</p>
<div id="dynsection-12" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classPlanner_1_1OkayPlan_a8207aa6109d5484eb0babb59f7d2e1ff_cgraph.png" border="0" usemap="#classPlanner_1_1OkayPlan_a8207aa6109d5484eb0babb59f7d2e1ff_cgraph" alt=""/></div>
<map name="classPlanner_1_1OkayPlan_a8207aa6109d5484eb0babb59f7d2e1ff_cgraph" id="classPlanner_1_1OkayPlan_a8207aa6109d5484eb0babb59f7d2e1ff_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,175,47"/>
<area shape="rect" href="classPlanner_1_1OkayPlan.html#a64e5c5e94d2536fcd8d61a4ad9b42877" title=" " alt="" coords="223,5,403,47"/>
<area shape="rect" href="classPlanner_1_1OkayPlan.html#a6d482dcdc0f0a76af063b58b2f11a41a" title=" " alt="" coords="451,5,635,47"/>
</map>
</div>

</div>
</div>
<a id="a9612f7960b59aedbcf8a47ca6a9878eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9612f7960b59aedbcf8a47ca6a9878eb">&#9670;&nbsp;</a></span>_get_Shake_Penalty() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def Planner.OkayPlan._get_Shake_Penalty </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">t时刻各条路径和t-1最好路径的差异</pre> <div class="fragment"><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="keyword">def </span>_get_Shake_Penalty(self):</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;t时刻各条路径和t-1最好路径的差异&#39;&#39;&#39;</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        shake_penalty = torch.linalg.norm(self.Locate[1] - self.Priori_Path, dim=-1)</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        <span class="keywordflow">return</span> shake_penalty  <span class="comment"># (G,N)</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160; </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classPlanner_1_1OkayPlan.html#ad8910a5f023c6e60f7ced3b616f44d91">Planner.OkayPlan._get_Shake_Penalty</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a13c6a19f9ae239c0c0a48c4e8b432298">Planner.OkayPlan.Locate</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#a10f6a6afd86f7a96e9f4a4e970afcc95">Planner.OkayPlan.Priori_Path</a>.</p>

</div>
</div>
<a id="a9612f7960b59aedbcf8a47ca6a9878eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9612f7960b59aedbcf8a47ca6a9878eb">&#9670;&nbsp;</a></span>_get_Shake_Penalty() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def Planner.OkayPlan._get_Shake_Penalty </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">t时刻各条路径和t-1最好路径的差异</pre> <div class="fragment"><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keyword">def </span>_get_Shake_Penalty(self):</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;t时刻各条路径和t-1最好路径的差异&#39;&#39;&#39;</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        shake_penalty = torch.linalg.norm(self.Locate[1] - self.Priori_Path, dim=-1)</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        <span class="keywordflow">return</span> shake_penalty  <span class="comment"># (G,N)</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160; </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classPlanner_1_1OkayPlan.html#ad8910a5f023c6e60f7ced3b616f44d91">Planner.OkayPlan._get_Shake_Penalty</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a13c6a19f9ae239c0c0a48c4e8b432298">Planner.OkayPlan.Locate</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#a10f6a6afd86f7a96e9f4a4e970afcc95">Planner.OkayPlan.Priori_Path</a>.</p>

</div>
</div>
<a id="a64e5c5e94d2536fcd8d61a4ad9b42877"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64e5c5e94d2536fcd8d61a4ad9b42877">&#9670;&nbsp;</a></span>_Is_Seg_Ingersection_PtoM() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def Planner.OkayPlan._Is_Seg_Ingersection_PtoM </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>P</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>M</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">利用[交叉积-跨立实验]判断 线段集P 与 线段集M 的相交情况
    P = torch.tensor((p,2,2))
    M = torch.tensor((m,2,2))
    Output = torch.tensor((p,m)), dtype=torch.bool</pre> <div class="fragment"><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="keyword">def </span>_Is_Seg_Ingersection_PtoM(self, P, M):</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;利用[交叉积-跨立实验]判断 线段集P 与 线段集M 的相交情况</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="stringliteral">            P = torch.tensor((p,2,2))</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="stringliteral">            M = torch.tensor((m,2,2))</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="stringliteral">            Output = torch.tensor((p,m)), dtype=torch.bool&#39;&#39;&#39;</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160; </div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        V_PP = P[:, 1] - P[:, 0]  <span class="comment"># (p, 2),自身向量</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        V_PM = M - P[:, <span class="keywordtype">None</span>, <span class="keywordtype">None</span>, 0]  <span class="comment"># (p, m, 2, 2), 自身起点与其他线段端点构成的向量</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        Flag1 = self._Cross_product_for_VectorSet(V_PM, V_PP).prod(dim=-1) &lt; 0  <span class="comment"># (p, m)</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160; </div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        V_MM = M[:, 1] - M[:, 0]  <span class="comment"># (m, 2)</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        V_MP = P - M[:, <span class="keywordtype">None</span>, <span class="keywordtype">None</span>, 0]  <span class="comment"># (m, p, 2, 2)</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        Flag2 = self._Cross_product_for_VectorSet(V_MP, V_MM).prod(dim=-1) &lt; 0  <span class="comment"># (m, p)</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        <span class="keywordflow">return</span> Flag1 * Flag2.T</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160; </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classPlanner_1_1OkayPlan.html#a6d482dcdc0f0a76af063b58b2f11a41a">Planner.OkayPlan._Cross_product_for_VectorSet()</a>.</p>

<p class="reference">Referenced by <a class="el" href="classPlanner_1_1OkayPlan.html#a8207aa6109d5484eb0babb59f7d2e1ff">Planner.OkayPlan._get_Obs_Penalty()</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#a64e5c5e94d2536fcd8d61a4ad9b42877">Planner.OkayPlan._Is_Seg_Ingersection_PtoM()</a>.</p>
<div id="dynsection-13" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classPlanner_1_1OkayPlan_a64e5c5e94d2536fcd8d61a4ad9b42877_cgraph.png" border="0" usemap="#classPlanner_1_1OkayPlan_a64e5c5e94d2536fcd8d61a4ad9b42877_cgraph" alt=""/></div>
<map name="classPlanner_1_1OkayPlan_a64e5c5e94d2536fcd8d61a4ad9b42877_cgraph" id="classPlanner_1_1OkayPlan_a64e5c5e94d2536fcd8d61a4ad9b42877_cgraph">
<area shape="rect" title=" " alt="" coords="5,29,185,71"/>
<area shape="rect" href="classPlanner_1_1OkayPlan.html#a6d482dcdc0f0a76af063b58b2f11a41a" title=" " alt="" coords="233,29,417,71"/>
</map>
</div>
<div id="dynsection-14" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classPlanner_1_1OkayPlan_a64e5c5e94d2536fcd8d61a4ad9b42877_icgraph.png" border="0" usemap="#classPlanner_1_1OkayPlan_a64e5c5e94d2536fcd8d61a4ad9b42877_icgraph" alt=""/></div>
<map name="classPlanner_1_1OkayPlan_a64e5c5e94d2536fcd8d61a4ad9b42877_icgraph" id="classPlanner_1_1OkayPlan_a64e5c5e94d2536fcd8d61a4ad9b42877_icgraph">
<area shape="rect" title=" " alt="" coords="223,29,403,71"/>
<area shape="rect" href="classPlanner_1_1OkayPlan.html#a8207aa6109d5484eb0babb59f7d2e1ff" title=" " alt="" coords="5,29,175,71"/>
</map>
</div>

</div>
</div>
<a id="a64e5c5e94d2536fcd8d61a4ad9b42877"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64e5c5e94d2536fcd8d61a4ad9b42877">&#9670;&nbsp;</a></span>_Is_Seg_Ingersection_PtoM() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def Planner.OkayPlan._Is_Seg_Ingersection_PtoM </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>P</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>M</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">利用[交叉积-跨立实验]判断 线段集P 与 线段集M 的相交情况
    P = torch.tensor((p,2,2))
    M = torch.tensor((m,2,2))
    Output = torch.tensor((p,m)), dtype=torch.bool</pre> <div class="fragment"><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="keyword">def </span>_Is_Seg_Ingersection_PtoM(self, P, M):</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;利用[交叉积-跨立实验]判断 线段集P 与 线段集M 的相交情况</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="stringliteral">            P = torch.tensor((p,2,2))</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="stringliteral">            M = torch.tensor((m,2,2))</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="stringliteral">            Output = torch.tensor((p,m)), dtype=torch.bool&#39;&#39;&#39;</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160; </div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        V_PP = P[:, 1] - P[:, 0]  <span class="comment"># (p, 2),自身向量</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        V_PM = M - P[:, <span class="keywordtype">None</span>, <span class="keywordtype">None</span>, 0]  <span class="comment"># (p, m, 2, 2), 自身起点与其他线段端点构成的向量</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        Flag1 = self._Cross_product_for_VectorSet(V_PM, V_PP).prod(dim=-1) &lt; 0  <span class="comment"># (p, m)</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160; </div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        V_MM = M[:, 1] - M[:, 0]  <span class="comment"># (m, 2)</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        V_MP = P - M[:, <span class="keywordtype">None</span>, <span class="keywordtype">None</span>, 0]  <span class="comment"># (m, p, 2, 2)</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        Flag2 = self._Cross_product_for_VectorSet(V_MP, V_MM).prod(dim=-1) &lt; 0  <span class="comment"># (m, p)</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        <span class="keywordflow">return</span> Flag1 * Flag2.T</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160; </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classPlanner_1_1OkayPlan.html#a6d482dcdc0f0a76af063b58b2f11a41a">Planner.OkayPlan._Cross_product_for_VectorSet()</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#a64e5c5e94d2536fcd8d61a4ad9b42877">Planner.OkayPlan._Is_Seg_Ingersection_PtoM()</a>.</p>
<div id="dynsection-15" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-15-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-15-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-15-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classPlanner_1_1OkayPlan_a64e5c5e94d2536fcd8d61a4ad9b42877_cgraph.png" border="0" usemap="#classPlanner_1_1OkayPlan_a64e5c5e94d2536fcd8d61a4ad9b42877_cgraph" alt=""/></div>
<map name="classPlanner_1_1OkayPlan_a64e5c5e94d2536fcd8d61a4ad9b42877_cgraph" id="classPlanner_1_1OkayPlan_a64e5c5e94d2536fcd8d61a4ad9b42877_cgraph">
<area shape="rect" title=" " alt="" coords="5,29,185,71"/>
<area shape="rect" href="classPlanner_1_1OkayPlan.html#a6d482dcdc0f0a76af063b58b2f11a41a" title=" " alt="" coords="233,29,417,71"/>
</map>
</div>

</div>
</div>
<a id="abe3101e74a83c7fbf68d4d3c4ef6adec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe3101e74a83c7fbf68d4d3c4ef6adec">&#9670;&nbsp;</a></span>_iterate() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def Planner.OkayPlan._iterate </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">粒子迭代, 规划路径( 规划结果=self.Kinmtc[3,0,0] ) </pre><pre class="fragment">Step 0: 动态先验初始化</pre> <div class="fragment"><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="keyword">def </span>_iterate(self):</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        <span class="stringliteral">&#39;&#39;&#39; 粒子迭代, 规划路径( 规划结果=self.Kinmtc[3,0,0] ) &#39;&#39;&#39;</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160; </div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        <span class="stringliteral">&#39;&#39;&#39; Step 0: 动态先验初始化&#39;&#39;&#39;</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        self._ReLocate()</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160; </div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(self.Max_iterations):</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;            <span class="comment"># if i == (self.Max_iterations - 1): print(&#39;Reach maximal iteration!!&#39;)</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;            <span class="stringliteral">&#39;&#39;&#39;Auto Truncation Mechanism&#39;&#39;&#39;</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;            <span class="keywordflow">if</span> self.AT <span class="keywordflow">and</span> (i&gt;0.2*self.TrucWindow) <span class="keywordflow">and</span> self.Tbest_Collision_Free <span class="keywordflow">and</span> (np.std(self.Tbest_values_deque)&lt;self.std_Trsd):</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;                <span class="comment"># if (i&gt;0.2*self.TrucWindow): print(f&#39;迭代次数:{i}, std:{np.std(self.Tbest_values_deque)}&#39;)</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                <span class="keywordflow">break</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160; </div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;            <span class="stringliteral">&#39;&#39;&#39; Step 1: 计算Fitness (G,N)&#39;&#39;&#39;</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;            fitness = self._get_fitness()</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160; </div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;            <span class="stringliteral">&#39;&#39;&#39; Step 2: 更新Pbest, Gbest, Tbest 的 value 和 particle &#39;&#39;&#39;</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;            <span class="comment"># Pbest</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;            P_replace = (fitness &lt; self.Pbest_value) <span class="comment"># (G,N)</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;            self.Pbest_value[P_replace] = fitness[P_replace] <span class="comment"># 更新Pbest_value</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;            self.Kinmtc[1, P_replace] = self.Locate[1, P_replace] <span class="comment"># 更新Pbest_particles</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160; </div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;            <span class="comment"># Gbest</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;            values, indices = fitness.min(dim=-1)</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;            G_replace = (values &lt; self.Gbest_value) <span class="comment"># (G,)</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;            self.Gbest_value[G_replace] = values[G_replace] <span class="comment"># 更新Gbest_value</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;            self.Kinmtc[2, G_replace] = (self.Locate[2, self.arange_idx, indices][G_replace].unsqueeze(1))</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160; </div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;            <span class="comment"># Tbest</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;            flat_idx = fitness.argmin()</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;            idx_g, idx_n = flat_idx//self.N, flat_idx%self.N</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;            min_fitness = fitness[idx_g, idx_n]</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;            <span class="keywordflow">if</span> min_fitness &lt; self.Tbest_value:</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                self.Tbest_value = min_fitness <span class="comment"># 更新Tbest_value</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                self.Kinmtc[3] = (self.Locate[3, idx_g, idx_n]).clone() <span class="comment">#这里必须clone, 否则数据联动</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                <span class="comment"># 查看Tbest所代表的路径是否collision free:</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                <span class="keywordflow">if</span> self.Obs_penalty[idx_g, idx_n] == 0: self.Tbest_Collision_Free = <span class="keyword">True</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                <span class="keywordflow">else</span>: self.Tbest_Collision_Free = <span class="keyword">False</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;            self.Tbest_values_deque.append(self.Tbest_value.item())</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160; </div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;            <span class="stringliteral">&#39;&#39;&#39; Step 3: 更新粒子速度 &#39;&#39;&#39;</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;            self.Hyper[0] = self.w_init - self.w_delta*i  <span class="comment"># 惯性因子衰减</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;            self.Random[1:4] = torch.rand((3,self.G,self.N,1), device=self.dvc) <span class="comment">#装载随机数</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;            self.Kinmtc[0] = (self.Hyper * self.Random * (self.Kinmtc - self.Locate)).sum(dim=0) <span class="comment">#(G,N,D)</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;            self.Kinmtc[0].clip_(self.v_min, self.v_max) <span class="comment"># 限制速度范围</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160; </div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;            <span class="stringliteral">&#39;&#39;&#39; Step 4: 更新粒子位置 &#39;&#39;&#39;</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;            self.Locate[1:4] += self.Kinmtc[0] <span class="comment"># (3,G,N,D) + (G,N,D) = (3,G,N,D)</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;            self.Locate[1:4].clip_(self.Search_range[0], self.Search_range[1]) <span class="comment"># 限制位置范围</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;            self._fix_apex()</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160; </div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160; </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classPlanner_1_1OkayPlan.html#aa7d29a3cc5d0fd152dacc93d5166472e">Planner.OkayPlan._fix_apex()</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a47838547b3bf7b5bad81ec4e74504e64">Planner.OkayPlan._get_fitness()</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#aae8af0c7f0ecac78d33cce7e17b7f5a9">Planner.OkayPlan._ReLocate()</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a19e4973e0b60041d5cfb5b2d84f6b6fd">Planner.OkayPlan.arange_idx</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a052af9afd43819946b301a24fd009ca8">Planner.OkayPlan.AT</a>, <a class="el" href="classReplayBuffer_1_1TimeWindowReplayBuffer__NTD.html#a04b6e98b360903192d2583e1b8ffba70">ReplayBuffer.TimeWindowReplayBuffer_NTD.dvc</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a439c78cd75fe21e6816d5d47235eec08">Planner.OkayPlan.dvc</a>, <a class="el" href="classEnv__OkayPlan_1_1Env__4__OkayPlan.html#ae2ba3fa8973048341b8388615bc81a01">Env_OkayPlan.Env_4_OkayPlan.dvc</a>, <a class="el" href="classColorDynamic__main_1_1DDQN__Transformer__Agent__play.html#af2841dd3635ed68c00303958ac98759b">ColorDynamic_main.DDQN_Transformer_Agent_play.dvc</a>, <a class="el" href="classTrans__DDQN__play_1_1DDQN__Transformer__Agent__play.html#a5584d6f23b39ff31f1f809483879c042">Trans_DDQN_play.DDQN_Transformer_Agent_play.dvc</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a6cdc1efe757f2adc1072ab956bb968fd">Planner.OkayPlan.G</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#afb1f5150f81e73dbdde462866c11ca73">Planner.OkayPlan.Gbest_value</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a18e73d4da214894e39e8b1265f9bdc12">Planner.OkayPlan.Hyper</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a633fd32e8a7480eef98c92565224a7d5">Planner.OkayPlan.Kinmtc</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a13c6a19f9ae239c0c0a48c4e8b432298">Planner.OkayPlan.Locate</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#aa82d7ecbf6e8fe5164f9262f424096b6">Planner.OkayPlan.Max_iterations</a>, <a class="el" href="classReplayBuffer_1_1TimeWindowReplayBuffer__NTD.html#a6bc6432f79b969ddad4db10c299dd34a">ReplayBuffer.TimeWindowReplayBuffer_NTD.N</a>, <a class="el" href="classColorDynamic__main_1_1DDQN__Transformer__Agent__play.html#ab24b96b9f80b7b3a624f745e24e50798">ColorDynamic_main.DDQN_Transformer_Agent_play.N</a>, <a class="el" href="classTrans__DDQN__play_1_1DDQN__Transformer__Agent__play.html#a59623d50d94c959c4e0cc12332dab9c6">Trans_DDQN_play.DDQN_Transformer_Agent_play.N</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#ab04010d1aa453c23c3b03b53dbcf1033">Planner.OkayPlan.Pbest_value</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a79d1bd3b14a7850708f6d6df1d1747b6">Planner.OkayPlan.Random</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#ab8e9d17cbc8936718abe21a1b64ae8bf">Planner.OkayPlan.Search_range</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a31d135887145f2d82da44ef991268806">Planner.OkayPlan.std_Trsd</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#aeda39c82adea5aa58b623f9e001ddb0e">Planner.OkayPlan.Tbest_Collision_Free</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a1718f73c572231b351167e219ec78d29">Planner.OkayPlan.Tbest_value</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#aed2c341e08444b2e031fb4535b042609">Planner.OkayPlan.Tbest_values_deque</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a2dd336a7cf894fd1cc7af56dd137243b">Planner.OkayPlan.TrucWindow</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a2e986124a39661e9142e480645d86c8f">Planner.OkayPlan.v_max</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a7d7ec8d710fc0b42180c867ab8c2818f">Planner.OkayPlan.v_min</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a5e90cdc498fafef6da0d906f7f9cf860">Planner.OkayPlan.w_delta</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#a4f3828cbb03403df32dfa7f970e41bcd">Planner.OkayPlan.w_init</a>.</p>

<p class="reference">Referenced by <a class="el" href="classPlanner_1_1OkayPlan.html#abe3101e74a83c7fbf68d4d3c4ef6adec">Planner.OkayPlan._iterate()</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#ab759236b722a4767ee2d01c0407c1771">Planner.OkayPlan.plan()</a>.</p>
<div id="dynsection-16" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-16-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-16-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-16-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classPlanner_1_1OkayPlan_abe3101e74a83c7fbf68d4d3c4ef6adec_cgraph.png" border="0" usemap="#classPlanner_1_1OkayPlan_abe3101e74a83c7fbf68d4d3c4ef6adec_cgraph" alt=""/></div>
<map name="classPlanner_1_1OkayPlan_abe3101e74a83c7fbf68d4d3c4ef6adec_cgraph" id="classPlanner_1_1OkayPlan_abe3101e74a83c7fbf68d4d3c4ef6adec_cgraph">
<area shape="rect" title=" " alt="" coords="5,49,196,76"/>
<area shape="rect" href="classPlanner_1_1OkayPlan.html#aa7d29a3cc5d0fd152dacc93d5166472e" title=" " alt="" coords="500,5,704,32"/>
<area shape="rect" href="classPlanner_1_1OkayPlan.html#a47838547b3bf7b5bad81ec4e74504e64" title=" " alt="" coords="263,42,433,83"/>
<area shape="rect" href="classPlanner_1_1OkayPlan.html#aae8af0c7f0ecac78d33cce7e17b7f5a9" title=" " alt="" coords="244,108,452,135"/>
<area shape="rect" href="classPlanner_1_1OkayPlan.html#ad1794c2e1f46ba98d49f2a8d37e0a963" title=" " alt="" coords="501,86,703,127"/>
<area shape="rect" href="classPlanner_1_1OkayPlan.html#a692827fb9a60e4feccecc9e36085d673" title=" " alt="" coords="503,151,701,193"/>
</map>
</div>
<div id="dynsection-17" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-17-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-17-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-17-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classPlanner_1_1OkayPlan_abe3101e74a83c7fbf68d4d3c4ef6adec_icgraph.png" border="0" usemap="#classPlanner_1_1OkayPlan_abe3101e74a83c7fbf68d4d3c4ef6adec_icgraph" alt=""/></div>
<map name="classPlanner_1_1OkayPlan_abe3101e74a83c7fbf68d4d3c4ef6adec_icgraph" id="classPlanner_1_1OkayPlan_abe3101e74a83c7fbf68d4d3c4ef6adec_icgraph">
<area shape="rect" title=" " alt="" coords="223,29,413,56"/>
<area shape="rect" href="classPlanner_1_1OkayPlan.html#ab759236b722a4767ee2d01c0407c1771" title=" " alt="" coords="5,29,175,56"/>
</map>
</div>

</div>
</div>
<a id="abe3101e74a83c7fbf68d4d3c4ef6adec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe3101e74a83c7fbf68d4d3c4ef6adec">&#9670;&nbsp;</a></span>_iterate() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def Planner.OkayPlan._iterate </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">粒子迭代, 规划路径( 规划结果=self.Kinmtc[3,0,0] ) </pre><pre class="fragment">Step 0: 动态先验初始化</pre> <div class="fragment"><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="keyword">def </span>_iterate(self):</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        <span class="stringliteral">&#39;&#39;&#39; 粒子迭代, 规划路径( 规划结果=self.Kinmtc[3,0,0] ) &#39;&#39;&#39;</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160; </div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        <span class="stringliteral">&#39;&#39;&#39; Step 0: 动态先验初始化&#39;&#39;&#39;</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        self._ReLocate()</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160; </div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(self.Max_iterations):</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;            <span class="comment"># if i == (self.Max_iterations - 1): print(&#39;Reach maximal iteration!!&#39;)</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;            <span class="stringliteral">&#39;&#39;&#39;Auto Truncation Mechanism&#39;&#39;&#39;</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;            <span class="keywordflow">if</span> self.AT <span class="keywordflow">and</span> (i&gt;0.2*self.TrucWindow) <span class="keywordflow">and</span> self.Tbest_Collision_Free <span class="keywordflow">and</span> (np.std(self.Tbest_values_deque)&lt;self.std_Trsd):</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                <span class="comment"># if (i&gt;0.2*self.TrucWindow): print(f&#39;迭代次数:{i}, std:{np.std(self.Tbest_values_deque)}&#39;)</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                <span class="keywordflow">break</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160; </div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;            <span class="stringliteral">&#39;&#39;&#39; Step 1: 计算Fitness (G,N)&#39;&#39;&#39;</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;            fitness = self._get_fitness()</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160; </div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;            <span class="stringliteral">&#39;&#39;&#39; Step 2: 更新Pbest, Gbest, Tbest 的 value 和 particle &#39;&#39;&#39;</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;            <span class="comment"># Pbest</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;            P_replace = (fitness &lt; self.Pbest_value) <span class="comment"># (G,N)</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;            self.Pbest_value[P_replace] = fitness[P_replace] <span class="comment"># 更新Pbest_value</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;            self.Kinmtc[1, P_replace] = self.Locate[1, P_replace] <span class="comment"># 更新Pbest_particles</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160; </div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;            <span class="comment"># Gbest</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;            values, indices = fitness.min(dim=-1)</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;            G_replace = (values &lt; self.Gbest_value) <span class="comment"># (G,)</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;            self.Gbest_value[G_replace] = values[G_replace] <span class="comment"># 更新Gbest_value</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;            self.Kinmtc[2, G_replace] = (self.Locate[2, self.arange_idx, indices][G_replace].unsqueeze(1))</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160; </div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;            <span class="comment"># Tbest</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;            flat_idx = fitness.argmin()</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;            idx_g, idx_n = flat_idx//self.N, flat_idx%self.N</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;            min_fitness = fitness[idx_g, idx_n]</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;            <span class="keywordflow">if</span> min_fitness &lt; self.Tbest_value:</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                self.Tbest_value = min_fitness <span class="comment"># 更新Tbest_value</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                self.Kinmtc[3] = (self.Locate[3, idx_g, idx_n]).clone() <span class="comment">#这里必须clone, 否则数据联动</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                <span class="comment"># 查看Tbest所代表的路径是否collision free:</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                <span class="keywordflow">if</span> self.Obs_penalty[idx_g, idx_n] == 0: self.Tbest_Collision_Free = <span class="keyword">True</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                <span class="keywordflow">else</span>: self.Tbest_Collision_Free = <span class="keyword">False</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;            self.Tbest_values_deque.append(self.Tbest_value.item())</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160; </div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;            <span class="stringliteral">&#39;&#39;&#39; Step 3: 更新粒子速度 &#39;&#39;&#39;</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;            self.Hyper[0] = self.w_init - self.w_delta*i  <span class="comment"># 惯性因子衰减</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;            self.Random[1:4] = torch.rand((3,self.G,self.N,1), device=self.dvc) <span class="comment">#装载随机数</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;            self.Kinmtc[0] = (self.Hyper * self.Random * (self.Kinmtc - self.Locate)).sum(dim=0) <span class="comment">#(G,N,D)</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;            self.Kinmtc[0].clip_(self.v_min, self.v_max) <span class="comment"># 限制速度范围</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160; </div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;            <span class="stringliteral">&#39;&#39;&#39; Step 4: 更新粒子位置 &#39;&#39;&#39;</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;            self.Locate[1:4] += self.Kinmtc[0] <span class="comment"># (3,G,N,D) + (G,N,D) = (3,G,N,D)</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;            self.Locate[1:4].clip_(self.Search_range[0], self.Search_range[1]) <span class="comment"># 限制位置范围</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;            self._fix_apex()</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160; </div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160; </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classPlanner_1_1OkayPlan.html#aa7d29a3cc5d0fd152dacc93d5166472e">Planner.OkayPlan._fix_apex()</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a47838547b3bf7b5bad81ec4e74504e64">Planner.OkayPlan._get_fitness()</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#abe3101e74a83c7fbf68d4d3c4ef6adec">Planner.OkayPlan._iterate()</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#aae8af0c7f0ecac78d33cce7e17b7f5a9">Planner.OkayPlan._ReLocate()</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a19e4973e0b60041d5cfb5b2d84f6b6fd">Planner.OkayPlan.arange_idx</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a052af9afd43819946b301a24fd009ca8">Planner.OkayPlan.AT</a>, <a class="el" href="classReplayBuffer_1_1TimeWindowReplayBuffer__NTD.html#a04b6e98b360903192d2583e1b8ffba70">ReplayBuffer.TimeWindowReplayBuffer_NTD.dvc</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a439c78cd75fe21e6816d5d47235eec08">Planner.OkayPlan.dvc</a>, <a class="el" href="classEnv__OkayPlan_1_1Env__4__OkayPlan.html#ae2ba3fa8973048341b8388615bc81a01">Env_OkayPlan.Env_4_OkayPlan.dvc</a>, <a class="el" href="classColorDynamic__main_1_1DDQN__Transformer__Agent__play.html#af2841dd3635ed68c00303958ac98759b">ColorDynamic_main.DDQN_Transformer_Agent_play.dvc</a>, <a class="el" href="classTrans__DDQN__play_1_1DDQN__Transformer__Agent__play.html#a5584d6f23b39ff31f1f809483879c042">Trans_DDQN_play.DDQN_Transformer_Agent_play.dvc</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a6cdc1efe757f2adc1072ab956bb968fd">Planner.OkayPlan.G</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#afb1f5150f81e73dbdde462866c11ca73">Planner.OkayPlan.Gbest_value</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a18e73d4da214894e39e8b1265f9bdc12">Planner.OkayPlan.Hyper</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a633fd32e8a7480eef98c92565224a7d5">Planner.OkayPlan.Kinmtc</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a13c6a19f9ae239c0c0a48c4e8b432298">Planner.OkayPlan.Locate</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#aa82d7ecbf6e8fe5164f9262f424096b6">Planner.OkayPlan.Max_iterations</a>, <a class="el" href="classReplayBuffer_1_1TimeWindowReplayBuffer__NTD.html#a6bc6432f79b969ddad4db10c299dd34a">ReplayBuffer.TimeWindowReplayBuffer_NTD.N</a>, <a class="el" href="classColorDynamic__main_1_1DDQN__Transformer__Agent__play.html#ab24b96b9f80b7b3a624f745e24e50798">ColorDynamic_main.DDQN_Transformer_Agent_play.N</a>, <a class="el" href="classTrans__DDQN__play_1_1DDQN__Transformer__Agent__play.html#a59623d50d94c959c4e0cc12332dab9c6">Trans_DDQN_play.DDQN_Transformer_Agent_play.N</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#ab04010d1aa453c23c3b03b53dbcf1033">Planner.OkayPlan.Pbest_value</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a79d1bd3b14a7850708f6d6df1d1747b6">Planner.OkayPlan.Random</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#ab8e9d17cbc8936718abe21a1b64ae8bf">Planner.OkayPlan.Search_range</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a31d135887145f2d82da44ef991268806">Planner.OkayPlan.std_Trsd</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#aeda39c82adea5aa58b623f9e001ddb0e">Planner.OkayPlan.Tbest_Collision_Free</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a1718f73c572231b351167e219ec78d29">Planner.OkayPlan.Tbest_value</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#aed2c341e08444b2e031fb4535b042609">Planner.OkayPlan.Tbest_values_deque</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a2dd336a7cf894fd1cc7af56dd137243b">Planner.OkayPlan.TrucWindow</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a2e986124a39661e9142e480645d86c8f">Planner.OkayPlan.v_max</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a7d7ec8d710fc0b42180c867ab8c2818f">Planner.OkayPlan.v_min</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a5e90cdc498fafef6da0d906f7f9cf860">Planner.OkayPlan.w_delta</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#a4f3828cbb03403df32dfa7f970e41bcd">Planner.OkayPlan.w_init</a>.</p>
<div id="dynsection-18" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-18-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-18-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-18-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classPlanner_1_1OkayPlan_abe3101e74a83c7fbf68d4d3c4ef6adec_cgraph.png" border="0" usemap="#classPlanner_1_1OkayPlan_abe3101e74a83c7fbf68d4d3c4ef6adec_cgraph" alt=""/></div>
<map name="classPlanner_1_1OkayPlan_abe3101e74a83c7fbf68d4d3c4ef6adec_cgraph" id="classPlanner_1_1OkayPlan_abe3101e74a83c7fbf68d4d3c4ef6adec_cgraph">
<area shape="rect" title=" " alt="" coords="5,49,196,76"/>
<area shape="rect" href="classPlanner_1_1OkayPlan.html#aa7d29a3cc5d0fd152dacc93d5166472e" title=" " alt="" coords="500,5,704,32"/>
<area shape="rect" href="classPlanner_1_1OkayPlan.html#a47838547b3bf7b5bad81ec4e74504e64" title=" " alt="" coords="263,42,433,83"/>
<area shape="rect" href="classPlanner_1_1OkayPlan.html#aae8af0c7f0ecac78d33cce7e17b7f5a9" title=" " alt="" coords="244,108,452,135"/>
<area shape="rect" href="classPlanner_1_1OkayPlan.html#ad1794c2e1f46ba98d49f2a8d37e0a963" title=" " alt="" coords="501,86,703,127"/>
<area shape="rect" href="classPlanner_1_1OkayPlan.html#a692827fb9a60e4feccecc9e36085d673" title=" " alt="" coords="503,151,701,193"/>
</map>
</div>

</div>
</div>
<a id="aae8af0c7f0ecac78d33cce7e17b7f5a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae8af0c7f0ecac78d33cce7e17b7f5a9">&#9670;&nbsp;</a></span>_ReLocate() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def Planner.OkayPlan._ReLocate </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">初始化粒子群动力学特征，每次iterate前要执行一次</pre> <div class="fragment"><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="keyword">def </span>_ReLocate(self):</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;初始化粒子群动力学特征，每次iterate前要执行一次&#39;&#39;&#39;</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        <span class="comment"># Dynamic Prioritized Initialization // Prioritized Initialization</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        <span class="keywordflow">if</span> self.DPI:</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;            <span class="comment"># OkayPlan Position Init: 根据先验知识Priori_X(上次迭代的Tbest)来初始化粒子群</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;            Mid_points = torch.tensor([[(self.x_start+self.x_target)/2],[(self.y_start+self.y_target)/2]],device=self.dvc).<a class="code" href="namespacemulti__teleop__twist__keyboard.html#a627417034d99c4d974013ba076524719">repeat</a>((1,self.NP)).reshape(self.D) <span class="comment">#(D,)</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;            self.Locate[1:4] = Mid_points + self._uniform_random(low=-self.d2target/2, high=self.d2target/2, shape=(self.G,self.N,self.D)) <span class="comment"># DPI区域内随机初始化</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;            <span class="comment"># self.Locate[1:4, :, 0:self.params[53].int()] = Priori_X  # (3,G,RN,D), V0</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;            self.Locate[1:4, :, 0] = self.Priori_Path  <span class="comment"># (3,G,0,D), V1, replace params[53] for 1</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;            self.Locate[1:4, :, 1] = self._Uniform_interpolation_path((self.x_start,self.y_start), (self.x_target,self.y_target)) <span class="comment"># V2, 同时每回和加入均匀插值路径，进一步提供先验信息</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;            <span class="comment"># SEPSO Position Init: From https://github.com/XinJingHao/Real-time-Path-planning-with-SEPSO</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;            RN = <a class="code" href="namespaceTrans__DDQN__play.html#a42cf485ed52998d534613faf92abec18">int</a>(0.25*self.N)</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;            self.Locate[1:4] = self._uniform_random(low=self.Search_range[0], high=self.Search_range[1], shape=(self.G,self.N,self.D)) <span class="comment">#[0,X,X,X]</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;            self.Locate[1:4, :, 0:RN] = self.Priori_Path + self._uniform_random(-self.rd_area, self.rd_area, (RN,self.D)) <span class="comment"># (3,G,RN,D)</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160; </div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        <span class="comment"># 限制粒子位置至合法范围</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        self.Locate[1:4].clip_(self.Search_range[0], self.Search_range[1])</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        self._fix_apex()</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160; </div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        <span class="comment"># Velocity Init: (+V_offset防止后期d2target太小时，速度太小)</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        self.Kinmtc[0] = self._uniform_random(low=-(self.d2target+self.V_offset),</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                                              high=(self.d2target+self.V_offset),</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;                                              shape=(self.G,self.N,self.D)) * self.v_init_ratio</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160; </div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        <span class="comment"># Best Value Init:</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        self.Pbest_value = torch.ones((self.G,self.N), device=self.dvc) * torch.inf</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        self.Gbest_value = torch.ones(self.G, device=self.dvc) * torch.inf</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        self.Tbest_value = torch.inf</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160; </div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        <span class="comment"># Auto-Truncation Mechanism</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        self.Tbest_Collision_Free = <span class="keyword">False</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        self.Tbest_values_deque = deque(maxlen=self.TrucWindow)</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160; </div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        <span class="comment"># Adaptive Velocity range</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        self.v_min = -(self.v_limit_ratio * (self.d2target+self.V_offset)) <span class="comment"># (G,1,1), (+V_offset防止后期d2target太小时，速度太小)</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        self.v_max = (self.v_limit_ratio * (self.d2target+self.V_offset)) <span class="comment"># (G,1,1), (+V_offset防止后期d2target太小时，速度太小)</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160; </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classPlanner_1_1OkayPlan.html#aa7d29a3cc5d0fd152dacc93d5166472e">Planner.OkayPlan._fix_apex()</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#ad1794c2e1f46ba98d49f2a8d37e0a963">Planner.OkayPlan._Uniform_interpolation_path()</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a692827fb9a60e4feccecc9e36085d673">Planner.OkayPlan._uniform_random()</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#ad4584275ff2f88accc11f19061027d70">Planner.OkayPlan.D</a>, <a class="el" href="classColorDynamic__main_1_1Q__Transformer.html#a34ce0dfa67b2d0f7513ef68b0bed7478">ColorDynamic_main.Q_Transformer.D</a>, <a class="el" href="classTrans__DDQN__play_1_1Q__Transformer.html#ade04eecbb4c635f0a4ca467014f535d5">Trans_DDQN_play.Q_Transformer.D</a>, <a class="el" href="classEnv__OkayPlan_1_1Env__4__OkayPlan.html#a531eeca512c1fcfd746dbf02ee7b5c0f">Env_OkayPlan.Env_4_OkayPlan.d2target</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a2cfb9ec8f0b66c254a2c708d7814b5c7">Planner.OkayPlan.d2target</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a55580e5c75edf5972a790f0b2fa7779b">Planner.OkayPlan.DPI</a>, <a class="el" href="classReplayBuffer_1_1TimeWindowReplayBuffer__NTD.html#a04b6e98b360903192d2583e1b8ffba70">ReplayBuffer.TimeWindowReplayBuffer_NTD.dvc</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a439c78cd75fe21e6816d5d47235eec08">Planner.OkayPlan.dvc</a>, <a class="el" href="classEnv__OkayPlan_1_1Env__4__OkayPlan.html#ae2ba3fa8973048341b8388615bc81a01">Env_OkayPlan.Env_4_OkayPlan.dvc</a>, <a class="el" href="classColorDynamic__main_1_1DDQN__Transformer__Agent__play.html#af2841dd3635ed68c00303958ac98759b">ColorDynamic_main.DDQN_Transformer_Agent_play.dvc</a>, <a class="el" href="classTrans__DDQN__play_1_1DDQN__Transformer__Agent__play.html#a5584d6f23b39ff31f1f809483879c042">Trans_DDQN_play.DDQN_Transformer_Agent_play.dvc</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a6cdc1efe757f2adc1072ab956bb968fd">Planner.OkayPlan.G</a>, <a class="el" href="namespaceTrans__DDQN__play.html#a42cf485ed52998d534613faf92abec18">Trans_DDQN_play.int</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a633fd32e8a7480eef98c92565224a7d5">Planner.OkayPlan.Kinmtc</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a13c6a19f9ae239c0c0a48c4e8b432298">Planner.OkayPlan.Locate</a>, <a class="el" href="classReplayBuffer_1_1TimeWindowReplayBuffer__NTD.html#a6bc6432f79b969ddad4db10c299dd34a">ReplayBuffer.TimeWindowReplayBuffer_NTD.N</a>, <a class="el" href="classColorDynamic__main_1_1DDQN__Transformer__Agent__play.html#ab24b96b9f80b7b3a624f745e24e50798">ColorDynamic_main.DDQN_Transformer_Agent_play.N</a>, <a class="el" href="classTrans__DDQN__play_1_1DDQN__Transformer__Agent__play.html#a59623d50d94c959c4e0cc12332dab9c6">Trans_DDQN_play.DDQN_Transformer_Agent_play.N</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a048d09cbc1a40abdd41e297d4972ca1b">Planner.OkayPlan.NP</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a10f6a6afd86f7a96e9f4a4e970afcc95">Planner.OkayPlan.Priori_Path</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a64c817618c60cd096432f72bd0eef4b3">Planner.OkayPlan.rd_area</a>, <a class="el" href="namespacemulti__teleop__twist__keyboard.html#a627417034d99c4d974013ba076524719">multi_teleop_twist_keyboard.repeat</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#ab8e9d17cbc8936718abe21a1b64ae8bf">Planner.OkayPlan.Search_range</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#aed19fa32b9f3ae64bd29d16169118179">Planner.OkayPlan.v_init_ratio</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a4b9f26e30add99f9de5deb35562062d4">Planner.OkayPlan.V_offset</a>, <a class="el" href="classEnv__OkayPlan_1_1Env__4__OkayPlan.html#a5b488bc921e485f65e84c6c9ec55b9c7">Env_OkayPlan.Env_4_OkayPlan.y_start</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a6bd4d8923146e7527c5da69f66713903">Planner.OkayPlan.y_start</a>, <a class="el" href="classEnv__OkayPlan_1_1Env__4__OkayPlan.html#addd181848c724c43cea831aab0ea2fd3">Env_OkayPlan.Env_4_OkayPlan.y_target</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#ac3ba1002e7a6176736ba2fa0d3e8770d">Planner.OkayPlan.y_target</a>.</p>

<p class="reference">Referenced by <a class="el" href="classPlanner_1_1OkayPlan.html#abe3101e74a83c7fbf68d4d3c4ef6adec">Planner.OkayPlan._iterate()</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#aae8af0c7f0ecac78d33cce7e17b7f5a9">Planner.OkayPlan._ReLocate()</a>.</p>
<div id="dynsection-19" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-19-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-19-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-19-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classPlanner_1_1OkayPlan_aae8af0c7f0ecac78d33cce7e17b7f5a9_cgraph.png" border="0" usemap="#classPlanner_1_1OkayPlan_aae8af0c7f0ecac78d33cce7e17b7f5a9_cgraph" alt=""/></div>
<map name="classPlanner_1_1OkayPlan_aae8af0c7f0ecac78d33cce7e17b7f5a9_cgraph" id="classPlanner_1_1OkayPlan_aae8af0c7f0ecac78d33cce7e17b7f5a9_cgraph">
<area shape="rect" title=" " alt="" coords="5,64,213,91"/>
<area shape="rect" href="classPlanner_1_1OkayPlan.html#aa7d29a3cc5d0fd152dacc93d5166472e" title=" " alt="" coords="261,5,465,32"/>
<area shape="rect" href="classPlanner_1_1OkayPlan.html#ad1794c2e1f46ba98d49f2a8d37e0a963" title=" " alt="" coords="263,57,464,98"/>
<area shape="rect" href="classPlanner_1_1OkayPlan.html#a692827fb9a60e4feccecc9e36085d673" title=" " alt="" coords="264,122,463,163"/>
</map>
</div>
<div id="dynsection-20" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-20-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-20-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-20-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classPlanner_1_1OkayPlan_aae8af0c7f0ecac78d33cce7e17b7f5a9_icgraph.png" border="0" usemap="#classPlanner_1_1OkayPlan_aae8af0c7f0ecac78d33cce7e17b7f5a9_icgraph" alt=""/></div>
<map name="classPlanner_1_1OkayPlan_aae8af0c7f0ecac78d33cce7e17b7f5a9_icgraph" id="classPlanner_1_1OkayPlan_aae8af0c7f0ecac78d33cce7e17b7f5a9_icgraph">
<area shape="rect" title=" " alt="" coords="461,29,669,56"/>
<area shape="rect" href="classPlanner_1_1OkayPlan.html#abe3101e74a83c7fbf68d4d3c4ef6adec" title=" " alt="" coords="223,29,413,56"/>
<area shape="rect" href="classPlanner_1_1OkayPlan.html#ab759236b722a4767ee2d01c0407c1771" title=" " alt="" coords="5,29,175,56"/>
</map>
</div>

</div>
</div>
<a id="aae8af0c7f0ecac78d33cce7e17b7f5a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae8af0c7f0ecac78d33cce7e17b7f5a9">&#9670;&nbsp;</a></span>_ReLocate() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def Planner.OkayPlan._ReLocate </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">初始化粒子群动力学特征，每次iterate前要执行一次</pre> <div class="fragment"><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="keyword">def </span>_ReLocate(self):</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;初始化粒子群动力学特征，每次iterate前要执行一次&#39;&#39;&#39;</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        <span class="comment"># Dynamic Prioritized Initialization // Prioritized Initialization</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        <span class="keywordflow">if</span> self.DPI:</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;            <span class="comment"># OkayPlan Position Init: 根据先验知识Priori_X(上次迭代的Tbest)来初始化粒子群</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;            Mid_points = torch.tensor([[(self.x_start+self.x_target)/2],[(self.y_start+self.y_target)/2]],device=self.dvc).<a class="code" href="namespacemulti__teleop__twist__keyboard.html#a627417034d99c4d974013ba076524719">repeat</a>((1,self.NP)).reshape(self.D) <span class="comment">#(D,)</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;            self.Locate[1:4] = Mid_points + self._uniform_random(low=-self.d2target/2, high=self.d2target/2, shape=(self.G,self.N,self.D)) <span class="comment"># DPI区域内随机初始化</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;            <span class="comment"># self.Locate[1:4, :, 0:self.params[53].int()] = Priori_X  # (3,G,RN,D), V0</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;            self.Locate[1:4, :, 0] = self.Priori_Path  <span class="comment"># (3,G,0,D), V1, replace params[53] for 1</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;            self.Locate[1:4, :, 1] = self._Uniform_interpolation_path((self.x_start,self.y_start), (self.x_target,self.y_target)) <span class="comment"># V2, 同时每回和加入均匀插值路径，进一步提供先验信息</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;            <span class="comment"># SEPSO Position Init: From https://github.com/XinJingHao/Real-time-Path-planning-with-SEPSO</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;            RN = <a class="code" href="namespaceTrans__DDQN__play.html#a42cf485ed52998d534613faf92abec18">int</a>(0.25*self.N)</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;            self.Locate[1:4] = self._uniform_random(low=self.Search_range[0], high=self.Search_range[1], shape=(self.G,self.N,self.D)) <span class="comment">#[0,X,X,X]</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;            self.Locate[1:4, :, 0:RN] = self.Priori_Path + self._uniform_random(-self.rd_area, self.rd_area, (RN,self.D)) <span class="comment"># (3,G,RN,D)</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160; </div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        <span class="comment"># 限制粒子位置至合法范围</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        self.Locate[1:4].clip_(self.Search_range[0], self.Search_range[1])</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        self._fix_apex()</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160; </div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        <span class="comment"># Velocity Init: (+V_offset防止后期d2target太小时，速度太小)</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        self.Kinmtc[0] = self._uniform_random(low=-(self.d2target+self.V_offset),</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                                              high=(self.d2target+self.V_offset),</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                                              shape=(self.G,self.N,self.D)) * self.v_init_ratio</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160; </div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        <span class="comment"># Best Value Init:</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        self.Pbest_value = torch.ones((self.G,self.N), device=self.dvc) * torch.inf</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        self.Gbest_value = torch.ones(self.G, device=self.dvc) * torch.inf</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        self.Tbest_value = torch.inf</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160; </div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        <span class="comment"># Auto-Truncation Mechanism</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        self.Tbest_Collision_Free = <span class="keyword">False</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        self.Tbest_values_deque = deque(maxlen=self.TrucWindow)</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160; </div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        <span class="comment"># Adaptive Velocity range</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        self.v_min = -(self.v_limit_ratio * (self.d2target+self.V_offset)) <span class="comment"># (G,1,1), (+V_offset防止后期d2target太小时，速度太小)</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        self.v_max = (self.v_limit_ratio * (self.d2target+self.V_offset)) <span class="comment"># (G,1,1), (+V_offset防止后期d2target太小时，速度太小)</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160; </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classPlanner_1_1OkayPlan.html#aa7d29a3cc5d0fd152dacc93d5166472e">Planner.OkayPlan._fix_apex()</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#aae8af0c7f0ecac78d33cce7e17b7f5a9">Planner.OkayPlan._ReLocate()</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#ad1794c2e1f46ba98d49f2a8d37e0a963">Planner.OkayPlan._Uniform_interpolation_path()</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a692827fb9a60e4feccecc9e36085d673">Planner.OkayPlan._uniform_random()</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#ad4584275ff2f88accc11f19061027d70">Planner.OkayPlan.D</a>, <a class="el" href="classColorDynamic__main_1_1Q__Transformer.html#a34ce0dfa67b2d0f7513ef68b0bed7478">ColorDynamic_main.Q_Transformer.D</a>, <a class="el" href="classTrans__DDQN__play_1_1Q__Transformer.html#ade04eecbb4c635f0a4ca467014f535d5">Trans_DDQN_play.Q_Transformer.D</a>, <a class="el" href="classEnv__OkayPlan_1_1Env__4__OkayPlan.html#a531eeca512c1fcfd746dbf02ee7b5c0f">Env_OkayPlan.Env_4_OkayPlan.d2target</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a2cfb9ec8f0b66c254a2c708d7814b5c7">Planner.OkayPlan.d2target</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a55580e5c75edf5972a790f0b2fa7779b">Planner.OkayPlan.DPI</a>, <a class="el" href="classReplayBuffer_1_1TimeWindowReplayBuffer__NTD.html#a04b6e98b360903192d2583e1b8ffba70">ReplayBuffer.TimeWindowReplayBuffer_NTD.dvc</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a439c78cd75fe21e6816d5d47235eec08">Planner.OkayPlan.dvc</a>, <a class="el" href="classEnv__OkayPlan_1_1Env__4__OkayPlan.html#ae2ba3fa8973048341b8388615bc81a01">Env_OkayPlan.Env_4_OkayPlan.dvc</a>, <a class="el" href="classColorDynamic__main_1_1DDQN__Transformer__Agent__play.html#af2841dd3635ed68c00303958ac98759b">ColorDynamic_main.DDQN_Transformer_Agent_play.dvc</a>, <a class="el" href="classTrans__DDQN__play_1_1DDQN__Transformer__Agent__play.html#a5584d6f23b39ff31f1f809483879c042">Trans_DDQN_play.DDQN_Transformer_Agent_play.dvc</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a6cdc1efe757f2adc1072ab956bb968fd">Planner.OkayPlan.G</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#afb1f5150f81e73dbdde462866c11ca73">Planner.OkayPlan.Gbest_value</a>, <a class="el" href="namespaceTrans__DDQN__play.html#a42cf485ed52998d534613faf92abec18">Trans_DDQN_play.int</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a633fd32e8a7480eef98c92565224a7d5">Planner.OkayPlan.Kinmtc</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a13c6a19f9ae239c0c0a48c4e8b432298">Planner.OkayPlan.Locate</a>, <a class="el" href="classReplayBuffer_1_1TimeWindowReplayBuffer__NTD.html#a6bc6432f79b969ddad4db10c299dd34a">ReplayBuffer.TimeWindowReplayBuffer_NTD.N</a>, <a class="el" href="classColorDynamic__main_1_1DDQN__Transformer__Agent__play.html#ab24b96b9f80b7b3a624f745e24e50798">ColorDynamic_main.DDQN_Transformer_Agent_play.N</a>, <a class="el" href="classTrans__DDQN__play_1_1DDQN__Transformer__Agent__play.html#a59623d50d94c959c4e0cc12332dab9c6">Trans_DDQN_play.DDQN_Transformer_Agent_play.N</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a048d09cbc1a40abdd41e297d4972ca1b">Planner.OkayPlan.NP</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#ab04010d1aa453c23c3b03b53dbcf1033">Planner.OkayPlan.Pbest_value</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a10f6a6afd86f7a96e9f4a4e970afcc95">Planner.OkayPlan.Priori_Path</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a64c817618c60cd096432f72bd0eef4b3">Planner.OkayPlan.rd_area</a>, <a class="el" href="namespacemulti__teleop__twist__keyboard.html#a627417034d99c4d974013ba076524719">multi_teleop_twist_keyboard.repeat</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#ab8e9d17cbc8936718abe21a1b64ae8bf">Planner.OkayPlan.Search_range</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#aeda39c82adea5aa58b623f9e001ddb0e">Planner.OkayPlan.Tbest_Collision_Free</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a1718f73c572231b351167e219ec78d29">Planner.OkayPlan.Tbest_value</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#aed2c341e08444b2e031fb4535b042609">Planner.OkayPlan.Tbest_values_deque</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a2dd336a7cf894fd1cc7af56dd137243b">Planner.OkayPlan.TrucWindow</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#aed19fa32b9f3ae64bd29d16169118179">Planner.OkayPlan.v_init_ratio</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a0b61ad18fcc7f221a129b262da76279c">Planner.OkayPlan.v_limit_ratio</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a2e986124a39661e9142e480645d86c8f">Planner.OkayPlan.v_max</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a7d7ec8d710fc0b42180c867ab8c2818f">Planner.OkayPlan.v_min</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a4b9f26e30add99f9de5deb35562062d4">Planner.OkayPlan.V_offset</a>, <a class="el" href="classEnv__OkayPlan_1_1Env__4__OkayPlan.html#a5b488bc921e485f65e84c6c9ec55b9c7">Env_OkayPlan.Env_4_OkayPlan.y_start</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a6bd4d8923146e7527c5da69f66713903">Planner.OkayPlan.y_start</a>, <a class="el" href="classEnv__OkayPlan_1_1Env__4__OkayPlan.html#addd181848c724c43cea831aab0ea2fd3">Env_OkayPlan.Env_4_OkayPlan.y_target</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#ac3ba1002e7a6176736ba2fa0d3e8770d">Planner.OkayPlan.y_target</a>.</p>
<div id="dynsection-21" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-21-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-21-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-21-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classPlanner_1_1OkayPlan_aae8af0c7f0ecac78d33cce7e17b7f5a9_cgraph.png" border="0" usemap="#classPlanner_1_1OkayPlan_aae8af0c7f0ecac78d33cce7e17b7f5a9_cgraph" alt=""/></div>
<map name="classPlanner_1_1OkayPlan_aae8af0c7f0ecac78d33cce7e17b7f5a9_cgraph" id="classPlanner_1_1OkayPlan_aae8af0c7f0ecac78d33cce7e17b7f5a9_cgraph">
<area shape="rect" title=" " alt="" coords="5,64,213,91"/>
<area shape="rect" href="classPlanner_1_1OkayPlan.html#aa7d29a3cc5d0fd152dacc93d5166472e" title=" " alt="" coords="261,5,465,32"/>
<area shape="rect" href="classPlanner_1_1OkayPlan.html#ad1794c2e1f46ba98d49f2a8d37e0a963" title=" " alt="" coords="263,57,464,98"/>
<area shape="rect" href="classPlanner_1_1OkayPlan.html#a692827fb9a60e4feccecc9e36085d673" title=" " alt="" coords="264,122,463,163"/>
</map>
</div>

</div>
</div>
<a id="ad1794c2e1f46ba98d49f2a8d37e0a963"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1794c2e1f46ba98d49f2a8d37e0a963">&#9670;&nbsp;</a></span>_Uniform_interpolation_path() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def Planner.OkayPlan._Uniform_interpolation_path </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">在起点和终点之间均匀插值形成路径</pre> <div class="fragment"><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="keyword">def </span>_Uniform_interpolation_path(self, start, target):</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;在起点和终点之间均匀插值形成路径&#39;&#39;&#39;</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        Path_Xs = (start[0] + (target[0] - start[0]) * torch.arange(self.NP, device=self.dvc) / (self.NP - 1))</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        Path_Ys = (start[1] + (target[1] - start[1]) * torch.arange(self.NP, device=self.dvc) / (self.NP - 1))</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        <span class="keywordflow">return</span> torch.cat((Path_Xs, Path_Ys))</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160; </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classReplayBuffer_1_1TimeWindowReplayBuffer__NTD.html#a04b6e98b360903192d2583e1b8ffba70">ReplayBuffer.TimeWindowReplayBuffer_NTD.dvc</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a439c78cd75fe21e6816d5d47235eec08">Planner.OkayPlan.dvc</a>, <a class="el" href="classEnv__OkayPlan_1_1Env__4__OkayPlan.html#ae2ba3fa8973048341b8388615bc81a01">Env_OkayPlan.Env_4_OkayPlan.dvc</a>, <a class="el" href="classColorDynamic__main_1_1DDQN__Transformer__Agent__play.html#af2841dd3635ed68c00303958ac98759b">ColorDynamic_main.DDQN_Transformer_Agent_play.dvc</a>, <a class="el" href="classTrans__DDQN__play_1_1DDQN__Transformer__Agent__play.html#a5584d6f23b39ff31f1f809483879c042">Trans_DDQN_play.DDQN_Transformer_Agent_play.dvc</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#a048d09cbc1a40abdd41e297d4972ca1b">Planner.OkayPlan.NP</a>.</p>

<p class="reference">Referenced by <a class="el" href="classPlanner_1_1OkayPlan.html#aae8af0c7f0ecac78d33cce7e17b7f5a9">Planner.OkayPlan._ReLocate()</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#ad1794c2e1f46ba98d49f2a8d37e0a963">Planner.OkayPlan._Uniform_interpolation_path()</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#aecd32d02d1509b3cc60ba59bf0cf17fb">Planner.OkayPlan.Priori_Path_Init()</a>.</p>
<div id="dynsection-22" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-22-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-22-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-22-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classPlanner_1_1OkayPlan_ad1794c2e1f46ba98d49f2a8d37e0a963_icgraph.png" border="0" usemap="#classPlanner_1_1OkayPlan_ad1794c2e1f46ba98d49f2a8d37e0a963_icgraph" alt=""/></div>
<map name="classPlanner_1_1OkayPlan_ad1794c2e1f46ba98d49f2a8d37e0a963_icgraph" id="classPlanner_1_1OkayPlan_ad1794c2e1f46ba98d49f2a8d37e0a963_icgraph">
<area shape="rect" title=" " alt="" coords="717,51,919,93"/>
<area shape="rect" href="classPlanner_1_1OkayPlan.html#aae8af0c7f0ecac78d33cce7e17b7f5a9" title=" " alt="" coords="461,29,669,56"/>
<area shape="rect" href="classPlanner_1_1OkayPlan.html#aecd32d02d1509b3cc60ba59bf0cf17fb" title=" " alt="" coords="478,81,653,122"/>
<area shape="rect" href="classPlanner_1_1OkayPlan.html#abe3101e74a83c7fbf68d4d3c4ef6adec" title=" " alt="" coords="223,29,413,56"/>
<area shape="rect" href="classPlanner_1_1OkayPlan.html#ab759236b722a4767ee2d01c0407c1771" title=" " alt="" coords="5,29,175,56"/>
</map>
</div>

</div>
</div>
<a id="ad1794c2e1f46ba98d49f2a8d37e0a963"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1794c2e1f46ba98d49f2a8d37e0a963">&#9670;&nbsp;</a></span>_Uniform_interpolation_path() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def Planner.OkayPlan._Uniform_interpolation_path </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">在起点和终点之间均匀插值形成路径</pre> <div class="fragment"><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="keyword">def </span>_Uniform_interpolation_path(self, start, target):</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;在起点和终点之间均匀插值形成路径&#39;&#39;&#39;</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        Path_Xs = (start[0] + (target[0] - start[0]) * torch.arange(self.NP, device=self.dvc) / (self.NP - 1))</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        Path_Ys = (start[1] + (target[1] - start[1]) * torch.arange(self.NP, device=self.dvc) / (self.NP - 1))</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        <span class="keywordflow">return</span> torch.cat((Path_Xs, Path_Ys))</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160; </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classPlanner_1_1OkayPlan.html#ad1794c2e1f46ba98d49f2a8d37e0a963">Planner.OkayPlan._Uniform_interpolation_path()</a>, <a class="el" href="classReplayBuffer_1_1TimeWindowReplayBuffer__NTD.html#a04b6e98b360903192d2583e1b8ffba70">ReplayBuffer.TimeWindowReplayBuffer_NTD.dvc</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a439c78cd75fe21e6816d5d47235eec08">Planner.OkayPlan.dvc</a>, <a class="el" href="classEnv__OkayPlan_1_1Env__4__OkayPlan.html#ae2ba3fa8973048341b8388615bc81a01">Env_OkayPlan.Env_4_OkayPlan.dvc</a>, <a class="el" href="classColorDynamic__main_1_1DDQN__Transformer__Agent__play.html#af2841dd3635ed68c00303958ac98759b">ColorDynamic_main.DDQN_Transformer_Agent_play.dvc</a>, <a class="el" href="classTrans__DDQN__play_1_1DDQN__Transformer__Agent__play.html#a5584d6f23b39ff31f1f809483879c042">Trans_DDQN_play.DDQN_Transformer_Agent_play.dvc</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#a048d09cbc1a40abdd41e297d4972ca1b">Planner.OkayPlan.NP</a>.</p>
<div id="dynsection-23" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-23-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-23-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-23-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classPlanner_1_1OkayPlan_ad1794c2e1f46ba98d49f2a8d37e0a963_cgraph.png" border="0" usemap="#classPlanner_1_1OkayPlan_ad1794c2e1f46ba98d49f2a8d37e0a963_cgraph" alt=""/></div>
<map name="classPlanner_1_1OkayPlan_ad1794c2e1f46ba98d49f2a8d37e0a963_cgraph" id="classPlanner_1_1OkayPlan_ad1794c2e1f46ba98d49f2a8d37e0a963_cgraph">
<area shape="rect" title=" " alt="" coords="5,29,207,71"/>
</map>
</div>

</div>
</div>
<a id="a692827fb9a60e4feccecc9e36085d673"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a692827fb9a60e4feccecc9e36085d673">&#9670;&nbsp;</a></span>_uniform_random() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def Planner.OkayPlan._uniform_random </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>low</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>high</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>shape</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Generate uniformly random number in [low, high) in 'shape' on self.dvc</pre> <div class="fragment"><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="keyword">def </span>_uniform_random(self, low, high, shape):</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;Generate uniformly random number in [low, high) in &#39;shape&#39; on self.dvc&#39;&#39;&#39;</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        <span class="keywordflow">return</span> (high - low)*torch.rand(shape, device=self.dvc) + low</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160; </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classReplayBuffer_1_1TimeWindowReplayBuffer__NTD.html#a04b6e98b360903192d2583e1b8ffba70">ReplayBuffer.TimeWindowReplayBuffer_NTD.dvc</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a439c78cd75fe21e6816d5d47235eec08">Planner.OkayPlan.dvc</a>, <a class="el" href="classEnv__OkayPlan_1_1Env__4__OkayPlan.html#ae2ba3fa8973048341b8388615bc81a01">Env_OkayPlan.Env_4_OkayPlan.dvc</a>, <a class="el" href="classColorDynamic__main_1_1DDQN__Transformer__Agent__play.html#af2841dd3635ed68c00303958ac98759b">ColorDynamic_main.DDQN_Transformer_Agent_play.dvc</a>, and <a class="el" href="classTrans__DDQN__play_1_1DDQN__Transformer__Agent__play.html#a5584d6f23b39ff31f1f809483879c042">Trans_DDQN_play.DDQN_Transformer_Agent_play.dvc</a>.</p>

<p class="reference">Referenced by <a class="el" href="classPlanner_1_1OkayPlan.html#aae8af0c7f0ecac78d33cce7e17b7f5a9">Planner.OkayPlan._ReLocate()</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#a692827fb9a60e4feccecc9e36085d673">Planner.OkayPlan._uniform_random()</a>.</p>
<div id="dynsection-24" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-24-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-24-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-24-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classPlanner_1_1OkayPlan_a692827fb9a60e4feccecc9e36085d673_icgraph.png" border="0" usemap="#classPlanner_1_1OkayPlan_a692827fb9a60e4feccecc9e36085d673_icgraph" alt=""/></div>
<map name="classPlanner_1_1OkayPlan_a692827fb9a60e4feccecc9e36085d673_icgraph" id="classPlanner_1_1OkayPlan_a692827fb9a60e4feccecc9e36085d673_icgraph">
<area shape="rect" title=" " alt="" coords="717,29,916,71"/>
<area shape="rect" href="classPlanner_1_1OkayPlan.html#aae8af0c7f0ecac78d33cce7e17b7f5a9" title=" " alt="" coords="461,37,669,63"/>
<area shape="rect" href="classPlanner_1_1OkayPlan.html#abe3101e74a83c7fbf68d4d3c4ef6adec" title=" " alt="" coords="223,37,413,63"/>
<area shape="rect" href="classPlanner_1_1OkayPlan.html#ab759236b722a4767ee2d01c0407c1771" title=" " alt="" coords="5,37,175,63"/>
</map>
</div>

</div>
</div>
<a id="a692827fb9a60e4feccecc9e36085d673"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a692827fb9a60e4feccecc9e36085d673">&#9670;&nbsp;</a></span>_uniform_random() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def Planner.OkayPlan._uniform_random </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>low</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>high</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>shape</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Generate uniformly random number in [low, high) in 'shape' on self.dvc</pre> <div class="fragment"><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="keyword">def </span>_uniform_random(self, low, high, shape):</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;Generate uniformly random number in [low, high) in &#39;shape&#39; on self.dvc&#39;&#39;&#39;</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        <span class="keywordflow">return</span> (high - low)*torch.rand(shape, device=self.dvc) + low</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160; </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classPlanner_1_1OkayPlan.html#a692827fb9a60e4feccecc9e36085d673">Planner.OkayPlan._uniform_random()</a>, <a class="el" href="classReplayBuffer_1_1TimeWindowReplayBuffer__NTD.html#a04b6e98b360903192d2583e1b8ffba70">ReplayBuffer.TimeWindowReplayBuffer_NTD.dvc</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a439c78cd75fe21e6816d5d47235eec08">Planner.OkayPlan.dvc</a>, <a class="el" href="classEnv__OkayPlan_1_1Env__4__OkayPlan.html#ae2ba3fa8973048341b8388615bc81a01">Env_OkayPlan.Env_4_OkayPlan.dvc</a>, <a class="el" href="classColorDynamic__main_1_1DDQN__Transformer__Agent__play.html#af2841dd3635ed68c00303958ac98759b">ColorDynamic_main.DDQN_Transformer_Agent_play.dvc</a>, and <a class="el" href="classTrans__DDQN__play_1_1DDQN__Transformer__Agent__play.html#a5584d6f23b39ff31f1f809483879c042">Trans_DDQN_play.DDQN_Transformer_Agent_play.dvc</a>.</p>
<div id="dynsection-25" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-25-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-25-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-25-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classPlanner_1_1OkayPlan_a692827fb9a60e4feccecc9e36085d673_cgraph.png" border="0" usemap="#classPlanner_1_1OkayPlan_a692827fb9a60e4feccecc9e36085d673_cgraph" alt=""/></div>
<map name="classPlanner_1_1OkayPlan_a692827fb9a60e4feccecc9e36085d673_cgraph" id="classPlanner_1_1OkayPlan_a692827fb9a60e4feccecc9e36085d673_cgraph">
<area shape="rect" title=" " alt="" coords="5,29,204,71"/>
</map>
</div>

</div>
</div>
<a id="ab70f0f845f03b200a5b81462efa710c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab70f0f845f03b200a5b81462efa710c1">&#9670;&nbsp;</a></span>_waypoints_filter() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> np.ndarray Planner.OkayPlan._waypoints_filter </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">np.ndarray&#160;</td>
          <td class="paramname"><em>waypoints</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <span class="keyword">def </span>_waypoints_filter(self, waypoints: np.ndarray) -&gt; np.ndarray:</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;        seg_lengths = np.linalg.norm(np.diff(waypoints, axis=0), axis=1)  <span class="comment"># 每条线段的长度</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        idx = np.where(seg_lengths &gt; self.waypoints_trsd)[0] <span class="comment"># 与后一个点距离大于waypoints_trsd的点的索引</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160; </div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        <span class="comment"># 所有waypoints都很近: idx为[],此时返回3个waypoints</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        <span class="keywordflow">if</span> idx.size == 0: <span class="keywordflow">return</span> waypoints[[0, <a class="code" href="namespaceTrans__DDQN__play.html#a42cf485ed52998d534613faf92abec18">int</a>(self.NP/2), -1]]</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160; </div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        <span class="comment"># 补头，补尾，让waypoints数量至少大于3</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        <span class="keywordflow">if</span> 0 <span class="keywordflow">not</span> <span class="keywordflow">in</span> idx: idx = np.append(0, idx)</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;        <span class="keywordflow">if</span> self.S <span class="keywordflow">not</span> <span class="keywordflow">in</span> idx: idx = np.append(idx, self.S) <span class="comment"># self.S=最后一个waypints的索引</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        <span class="keywordflow">return</span> waypoints[idx]</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160; </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="namespaceTrans__DDQN__play.html#a42cf485ed52998d534613faf92abec18">Trans_DDQN_play.int</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a048d09cbc1a40abdd41e297d4972ca1b">Planner.OkayPlan.NP</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a157d96c0eb55385ee1fbed403590859b">Planner.OkayPlan.S</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#aac451eabcb693186e9801619045afe47">Planner.OkayPlan.waypoints_trsd</a>.</p>

<p class="reference">Referenced by <a class="el" href="classPlanner_1_1OkayPlan.html#ab70f0f845f03b200a5b81462efa710c1">Planner.OkayPlan._waypoints_filter()</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#a5dbe90fd6d2563bcabb7a1d640023af6">Planner.OkayPlan.get_guidepoint_old()</a>.</p>
<div id="dynsection-26" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-26-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-26-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-26-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classPlanner_1_1OkayPlan_ab70f0f845f03b200a5b81462efa710c1_icgraph.png" border="0" usemap="#classPlanner_1_1OkayPlan_ab70f0f845f03b200a5b81462efa710c1_icgraph" alt=""/></div>
<map name="classPlanner_1_1OkayPlan_ab70f0f845f03b200a5b81462efa710c1_icgraph" id="classPlanner_1_1OkayPlan_ab70f0f845f03b200a5b81462efa710c1_icgraph">
<area shape="rect" title=" " alt="" coords="216,29,431,71"/>
<area shape="rect" href="classPlanner_1_1OkayPlan.html#a5dbe90fd6d2563bcabb7a1d640023af6" title=" " alt="" coords="5,29,168,71"/>
</map>
</div>

</div>
</div>
<a id="ab70f0f845f03b200a5b81462efa710c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab70f0f845f03b200a5b81462efa710c1">&#9670;&nbsp;</a></span>_waypoints_filter() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> np.ndarray Planner.OkayPlan._waypoints_filter </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">np.ndarray&#160;</td>
          <td class="paramname"><em>waypoints</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <span class="keyword">def </span>_waypoints_filter(self, waypoints: np.ndarray) -&gt; np.ndarray:</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        seg_lengths = np.linalg.norm(np.diff(waypoints, axis=0), axis=1)  <span class="comment"># 每条线段的长度</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;        idx = np.where(seg_lengths &gt; self.waypoints_trsd)[0] <span class="comment"># 与后一个点距离大于waypoints_trsd的点的索引</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160; </div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;        <span class="comment"># 所有waypoints都很近: idx为[],此时返回3个waypoints</span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        <span class="keywordflow">if</span> idx.size == 0: <span class="keywordflow">return</span> waypoints[[0, <a class="code" href="namespaceTrans__DDQN__play.html#a42cf485ed52998d534613faf92abec18">int</a>(self.NP/2), -1]]</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160; </div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        <span class="comment"># 补头，补尾，让waypoints数量至少大于3</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        <span class="keywordflow">if</span> 0 <span class="keywordflow">not</span> <span class="keywordflow">in</span> idx: idx = np.append(0, idx)</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        <span class="keywordflow">if</span> self.S <span class="keywordflow">not</span> <span class="keywordflow">in</span> idx: idx = np.append(idx, self.S) <span class="comment"># self.S=最后一个waypints的索引</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;        <span class="keywordflow">return</span> waypoints[idx]</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160; </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classPlanner_1_1OkayPlan.html#ab70f0f845f03b200a5b81462efa710c1">Planner.OkayPlan._waypoints_filter()</a>, <a class="el" href="namespaceTrans__DDQN__play.html#a42cf485ed52998d534613faf92abec18">Trans_DDQN_play.int</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a048d09cbc1a40abdd41e297d4972ca1b">Planner.OkayPlan.NP</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a157d96c0eb55385ee1fbed403590859b">Planner.OkayPlan.S</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#aac451eabcb693186e9801619045afe47">Planner.OkayPlan.waypoints_trsd</a>.</p>
<div id="dynsection-27" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-27-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-27-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-27-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classPlanner_1_1OkayPlan_ab70f0f845f03b200a5b81462efa710c1_cgraph.png" border="0" usemap="#classPlanner_1_1OkayPlan_ab70f0f845f03b200a5b81462efa710c1_cgraph" alt=""/></div>
<map name="classPlanner_1_1OkayPlan_ab70f0f845f03b200a5b81462efa710c1_cgraph" id="classPlanner_1_1OkayPlan_ab70f0f845f03b200a5b81462efa710c1_cgraph">
<area shape="rect" title=" " alt="" coords="5,29,220,71"/>
</map>
</div>

</div>
</div>
<a id="a828693f773fbb4a71e9f1f937f49419d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a828693f773fbb4a71e9f1f937f49419d">&#9670;&nbsp;</a></span>get_guidepoint() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> np.ndarray Planner.OkayPlan.get_guidepoint </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">np.ndarray&#160;</td>
          <td class="paramname"><em>waypoints</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">功能: 根据waypoints计算Local Planner的局部引导点
输入: N个waypoints的2维坐标, (N,2)
输出: guidepoint的2维坐标, (2,)
</pre> <div class="fragment"><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="keyword">def </span>get_guidepoint(self, waypoints: np.ndarray) -&gt; np.ndarray:</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="stringliteral">        功能: 根据waypoints计算Local Planner的局部引导点</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="stringliteral">        输入: N个waypoints的2维坐标, (N,2)</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="stringliteral">        输出: guidepoint的2维坐标, (2,)</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="stringliteral">        &#39;&#39;&#39;</span></div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        seg_length = np.linalg.norm(np.diff(waypoints, axis=0), axis=1)  <span class="comment"># 每条线段的长度</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        waypoints_length = np.cumsum(seg_length)  <span class="comment"># 第1~NP个waypoints到起点的路径长度</span></div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        <span class="keywordflow">if</span> waypoints_length[-1] &lt; self.discounted_D:</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;            <span class="keywordflow">return</span> waypoints[-1]  <span class="comment"># 总路径长度小于局部规划长度，选择最后一个点作为引导点</span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160; </div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        idx = np.argmax(waypoints_length &gt; self.discounted_D)  <span class="comment"># 路径长即将大于discounted_D的导航点的索引</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        vector = waypoints[idx + 1] - waypoints[idx]</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        <span class="keywordflow">if</span> idx == 0: <span class="keywordflow">return</span> waypoints[idx] + self.discounted_D * vector / np.linalg.norm(vector)</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        <span class="keywordflow">else</span>: <span class="keywordflow">return</span> waypoints[idx] + (self.discounted_D-waypoints_length[idx-1]) * vector / np.linalg.norm(vector)</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160; </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classPlanner_1_1OkayPlan.html#a7e4ba375f9819a70b327c540b9eeb215">Planner.OkayPlan.discounted_D</a>.</p>

<p class="reference">Referenced by <a class="el" href="classPlanner_1_1OkayPlan.html#a828693f773fbb4a71e9f1f937f49419d">Planner.OkayPlan.get_guidepoint()</a>.</p>
<div id="dynsection-28" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-28-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-28-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-28-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classPlanner_1_1OkayPlan_a828693f773fbb4a71e9f1f937f49419d_icgraph.png" border="0" usemap="#classPlanner_1_1OkayPlan_a828693f773fbb4a71e9f1f937f49419d_icgraph" alt=""/></div>
<map name="classPlanner_1_1OkayPlan_a828693f773fbb4a71e9f1f937f49419d_icgraph" id="classPlanner_1_1OkayPlan_a828693f773fbb4a71e9f1f937f49419d_icgraph">
<area shape="rect" title=" " alt="" coords="5,29,168,71"/>
</map>
</div>

</div>
</div>
<a id="a828693f773fbb4a71e9f1f937f49419d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a828693f773fbb4a71e9f1f937f49419d">&#9670;&nbsp;</a></span>get_guidepoint() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> np.ndarray Planner.OkayPlan.get_guidepoint </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">np.ndarray&#160;</td>
          <td class="paramname"><em>waypoints</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">功能: 根据waypoints计算Local Planner的局部引导点
输入: N个waypoints的2维坐标, (N,2)
输出: guidepoint的2维坐标, (2,)
</pre> <div class="fragment"><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <span class="keyword">def </span>get_guidepoint(self, waypoints: np.ndarray) -&gt; np.ndarray:</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="stringliteral">        功能: 根据waypoints计算Local Planner的局部引导点</span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="stringliteral">        输入: N个waypoints的2维坐标, (N,2)</span></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="stringliteral">        输出: guidepoint的2维坐标, (2,)</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="stringliteral">        &#39;&#39;&#39;</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        seg_length = np.linalg.norm(np.diff(waypoints, axis=0), axis=1)  <span class="comment"># 每条线段的长度</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        waypoints_length = np.cumsum(seg_length)  <span class="comment"># 第1~NP个waypoints到起点的路径长度</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        <span class="keywordflow">if</span> waypoints_length[-1] &lt; self.discounted_D:</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;            <span class="keywordflow">return</span> waypoints[-1]  <span class="comment"># 总路径长度小于局部规划长度，选择最后一个点作为引导点</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160; </div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        idx = np.argmax(waypoints_length &gt; self.discounted_D)  <span class="comment"># 路径长即将大于discounted_D的导航点的索引</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        vector = waypoints[idx + 1] - waypoints[idx]</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        <span class="keywordflow">if</span> idx == 0: <span class="keywordflow">return</span> waypoints[idx] + self.discounted_D * vector / np.linalg.norm(vector)</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        <span class="keywordflow">else</span>: <span class="keywordflow">return</span> waypoints[idx] + (self.discounted_D-waypoints_length[idx-1]) * vector / np.linalg.norm(vector)</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160; </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classPlanner_1_1OkayPlan.html#a7e4ba375f9819a70b327c540b9eeb215">Planner.OkayPlan.discounted_D</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#a828693f773fbb4a71e9f1f937f49419d">Planner.OkayPlan.get_guidepoint()</a>.</p>
<div id="dynsection-29" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-29-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-29-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-29-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classPlanner_1_1OkayPlan_a828693f773fbb4a71e9f1f937f49419d_cgraph.png" border="0" usemap="#classPlanner_1_1OkayPlan_a828693f773fbb4a71e9f1f937f49419d_cgraph" alt=""/></div>
<map name="classPlanner_1_1OkayPlan_a828693f773fbb4a71e9f1f937f49419d_cgraph" id="classPlanner_1_1OkayPlan_a828693f773fbb4a71e9f1f937f49419d_cgraph">
<area shape="rect" title=" " alt="" coords="5,29,168,71"/>
</map>
</div>

</div>
</div>
<a id="a5dbe90fd6d2563bcabb7a1d640023af6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5dbe90fd6d2563bcabb7a1d640023af6">&#9670;&nbsp;</a></span>get_guidepoint_old() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> np.ndarray Planner.OkayPlan.get_guidepoint_old </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">np.ndarray&#160;</td>
          <td class="paramname"><em>waypoints</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">会导致guidepoint抖动，已弃用
功能: 根据waypoints计算Local Planner的局部引导点
输入: N个waypoints的2维坐标, (N,2)
输出: guidepoint的2维坐标, (2,)
</pre> <div class="fragment"><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="keyword">def </span>get_guidepoint_old(self, waypoints: np.ndarray) -&gt; np.ndarray:</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;<span class="stringliteral">        会导致guidepoint抖动，已弃用</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<span class="stringliteral">        功能: 根据waypoints计算Local Planner的局部引导点</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;<span class="stringliteral">        输入: N个waypoints的2维坐标, (N,2)</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="stringliteral">        输出: guidepoint的2维坐标, (2,)</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;<span class="stringliteral">        &#39;&#39;&#39;</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        waypoints = self._waypoints_filter(waypoints) <span class="comment"># 过滤掉距离太近的waypoints</span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160; </div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        seg_lengths = np.linalg.norm(np.diff(waypoints, axis=0), axis=1) <span class="comment"># 每条线段的长度</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        global_path_length = np.sum(seg_lengths) <span class="comment"># global path的长度</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160; </div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        <span class="keywordflow">if</span> global_path_length &lt; self.length_trsd:</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;            <span class="comment"># Case 1: 如果路径很短(即快到达终点)，则直接用最后一个waypoints(即targetpoint)作为guidepoint</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;            print(<span class="stringliteral">&#39;Case 1: 路径很短, 使用最后一个waypoints&#39;</span>)</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;            <span class="keywordflow">return</span> waypoints[-1]</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;            angles = self._calculate_waypoints_BendingAngles(waypoints) <span class="comment"># (N-2,)</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;            <span class="keywordflow">if</span> (angles &lt;= self.angles_trsd).all():</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                <span class="comment"># Case 2: 路径为大直线：选用朝着waypoints[-1]方向，discounted_D距离内最近的点</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                print(<span class="stringliteral">&#39;Case 2: 大直线&#39;</span>)</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                vector = waypoints[-1]-waypoints[0]</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                <span class="keywordflow">return</span> waypoints[0] + min(self.discounted_D,global_path_length)*vector/np.linalg.norm(vector)</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;            <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                <span class="comment"># 路径有转折，先寻找转折点作为临时导航点</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                guide_idx = np.argmax(angles &gt; self.angles_trsd) + 1 <span class="comment"># 因为去掉了起始点，这里需要+1</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                temp_guide_length = np.sum(seg_lengths[0:guide_idx]) <span class="comment"># 起点到临时guidepoint的距离</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                <span class="keywordflow">if</span> temp_guide_length &lt; self.discounted_D:</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                    <span class="comment"># Case 3: 起点到临时导航点的距离 &lt; 局部路径规划阈值，选择临时导航点为guidepoint</span></div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                    print(<span class="stringliteral">&#39;Case 3: 转折点在D内&#39;</span>, angles)</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                    <span class="keywordflow">return</span> waypoints[guide_idx]</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;                    <span class="comment"># Case 4: 起点到临时导航点的距离 &gt;= 局部路径规划阈值，选择朝向临时导航点且距离为discounted_D的点为guidepoint</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;                    print(<span class="stringliteral">&#39;Case 4: 转折点在D外&#39;</span>)</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                    vector = waypoints[guide_idx] - waypoints[0]</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;                    <span class="keywordflow">return</span> waypoints[0] + self.discounted_D * vector / np.linalg.norm(vector)</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160; </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classPlanner_1_1OkayPlan.html#a8d095d95f6129a3242adc46262c07c98">Planner.OkayPlan._calculate_waypoints_BendingAngles()</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#ab70f0f845f03b200a5b81462efa710c1">Planner.OkayPlan._waypoints_filter()</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a9a6db39585d3b350f77bae9903826c23">Planner.OkayPlan.angles_trsd</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a7e4ba375f9819a70b327c540b9eeb215">Planner.OkayPlan.discounted_D</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#a69d6234026716407e99630c157071f7b">Planner.OkayPlan.length_trsd</a>.</p>

<p class="reference">Referenced by <a class="el" href="classPlanner_1_1OkayPlan.html#a5dbe90fd6d2563bcabb7a1d640023af6">Planner.OkayPlan.get_guidepoint_old()</a>.</p>
<div id="dynsection-30" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-30-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-30-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-30-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classPlanner_1_1OkayPlan_a5dbe90fd6d2563bcabb7a1d640023af6_cgraph.png" border="0" usemap="#classPlanner_1_1OkayPlan_a5dbe90fd6d2563bcabb7a1d640023af6_cgraph" alt=""/></div>
<map name="classPlanner_1_1OkayPlan_a5dbe90fd6d2563bcabb7a1d640023af6_cgraph" id="classPlanner_1_1OkayPlan_a5dbe90fd6d2563bcabb7a1d640023af6_cgraph">
<area shape="rect" title=" " alt="" coords="5,39,168,80"/>
<area shape="rect" href="classPlanner_1_1OkayPlan.html#a8d095d95f6129a3242adc46262c07c98" title=" " alt="" coords="220,5,427,47"/>
<area shape="rect" href="classPlanner_1_1OkayPlan.html#ab70f0f845f03b200a5b81462efa710c1" title=" " alt="" coords="216,71,431,112"/>
</map>
</div>
<div id="dynsection-31" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-31-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-31-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-31-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classPlanner_1_1OkayPlan_a5dbe90fd6d2563bcabb7a1d640023af6_icgraph.png" border="0" usemap="#classPlanner_1_1OkayPlan_a5dbe90fd6d2563bcabb7a1d640023af6_icgraph" alt=""/></div>
<map name="classPlanner_1_1OkayPlan_a5dbe90fd6d2563bcabb7a1d640023af6_icgraph" id="classPlanner_1_1OkayPlan_a5dbe90fd6d2563bcabb7a1d640023af6_icgraph">
<area shape="rect" title=" " alt="" coords="5,29,168,71"/>
</map>
</div>

</div>
</div>
<a id="a5dbe90fd6d2563bcabb7a1d640023af6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5dbe90fd6d2563bcabb7a1d640023af6">&#9670;&nbsp;</a></span>get_guidepoint_old() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> np.ndarray Planner.OkayPlan.get_guidepoint_old </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">np.ndarray&#160;</td>
          <td class="paramname"><em>waypoints</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">会导致guidepoint抖动，已弃用
功能: 根据waypoints计算Local Planner的局部引导点
输入: N个waypoints的2维坐标, (N,2)
输出: guidepoint的2维坐标, (2,)
</pre> <div class="fragment"><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <span class="keyword">def </span>get_guidepoint_old(self, waypoints: np.ndarray) -&gt; np.ndarray:</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="stringliteral">        会导致guidepoint抖动，已弃用</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="stringliteral">        功能: 根据waypoints计算Local Planner的局部引导点</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="stringliteral">        输入: N个waypoints的2维坐标, (N,2)</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="stringliteral">        输出: guidepoint的2维坐标, (2,)</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="stringliteral">        &#39;&#39;&#39;</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        waypoints = self._waypoints_filter(waypoints) <span class="comment"># 过滤掉距离太近的waypoints</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160; </div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        seg_lengths = np.linalg.norm(np.diff(waypoints, axis=0), axis=1) <span class="comment"># 每条线段的长度</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        global_path_length = np.sum(seg_lengths) <span class="comment"># global path的长度</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160; </div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        <span class="keywordflow">if</span> global_path_length &lt; self.length_trsd:</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;            <span class="comment"># Case 1: 如果路径很短(即快到达终点)，则直接用最后一个waypoints(即targetpoint)作为guidepoint</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;            print(<span class="stringliteral">&#39;Case 1: 路径很短, 使用最后一个waypoints&#39;</span>)</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;            <span class="keywordflow">return</span> waypoints[-1]</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;            angles = self._calculate_waypoints_BendingAngles(waypoints) <span class="comment"># (N-2,)</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;            <span class="keywordflow">if</span> (angles &lt;= self.angles_trsd).all():</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                <span class="comment"># Case 2: 路径为大直线：选用朝着waypoints[-1]方向，discounted_D距离内最近的点</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                print(<span class="stringliteral">&#39;Case 2: 大直线&#39;</span>)</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                vector = waypoints[-1]-waypoints[0]</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                <span class="keywordflow">return</span> waypoints[0] + min(self.discounted_D,global_path_length)*vector/np.linalg.norm(vector)</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;            <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                <span class="comment"># 路径有转折，先寻找转折点作为临时导航点</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;                guide_idx = np.argmax(angles &gt; self.angles_trsd) + 1 <span class="comment"># 因为去掉了起始点，这里需要+1</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;                temp_guide_length = np.sum(seg_lengths[0:guide_idx]) <span class="comment"># 起点到临时guidepoint的距离</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                <span class="keywordflow">if</span> temp_guide_length &lt; self.discounted_D:</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;                    <span class="comment"># Case 3: 起点到临时导航点的距离 &lt; 局部路径规划阈值，选择临时导航点为guidepoint</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                    print(<span class="stringliteral">&#39;Case 3: 转折点在D内&#39;</span>, angles)</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;                    <span class="keywordflow">return</span> waypoints[guide_idx]</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;                <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                    <span class="comment"># Case 4: 起点到临时导航点的距离 &gt;= 局部路径规划阈值，选择朝向临时导航点且距离为discounted_D的点为guidepoint</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;                    print(<span class="stringliteral">&#39;Case 4: 转折点在D外&#39;</span>)</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;                    vector = waypoints[guide_idx] - waypoints[0]</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;                    <span class="keywordflow">return</span> waypoints[0] + self.discounted_D * vector / np.linalg.norm(vector)</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160; </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classPlanner_1_1OkayPlan.html#a8d095d95f6129a3242adc46262c07c98">Planner.OkayPlan._calculate_waypoints_BendingAngles()</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#ab70f0f845f03b200a5b81462efa710c1">Planner.OkayPlan._waypoints_filter()</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a9a6db39585d3b350f77bae9903826c23">Planner.OkayPlan.angles_trsd</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a7e4ba375f9819a70b327c540b9eeb215">Planner.OkayPlan.discounted_D</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a5dbe90fd6d2563bcabb7a1d640023af6">Planner.OkayPlan.get_guidepoint_old()</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#a69d6234026716407e99630c157071f7b">Planner.OkayPlan.length_trsd</a>.</p>
<div id="dynsection-32" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-32-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-32-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-32-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classPlanner_1_1OkayPlan_a5dbe90fd6d2563bcabb7a1d640023af6_cgraph.png" border="0" usemap="#classPlanner_1_1OkayPlan_a5dbe90fd6d2563bcabb7a1d640023af6_cgraph" alt=""/></div>
<map name="classPlanner_1_1OkayPlan_a5dbe90fd6d2563bcabb7a1d640023af6_cgraph" id="classPlanner_1_1OkayPlan_a5dbe90fd6d2563bcabb7a1d640023af6_cgraph">
<area shape="rect" title=" " alt="" coords="5,39,168,80"/>
<area shape="rect" href="classPlanner_1_1OkayPlan.html#a8d095d95f6129a3242adc46262c07c98" title=" " alt="" coords="220,5,427,47"/>
<area shape="rect" href="classPlanner_1_1OkayPlan.html#ab70f0f845f03b200a5b81462efa710c1" title=" " alt="" coords="216,71,431,112"/>
</map>
</div>

</div>
</div>
<a id="ab759236b722a4767ee2d01c0407c1771"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab759236b722a4767ee2d01c0407c1771">&#9670;&nbsp;</a></span>plan() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def Planner.OkayPlan.plan </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>env_info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">获取环境信息 -&gt; 迭代求解路径 -&gt; 更新下一时刻的先验路径  -&gt; 返回当前时刻路径</pre> <div class="fragment"><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="keyword">def </span>plan(self, env_info):</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        <span class="stringliteral">&#39;&#39;&#39; 获取环境信息 -&gt; 迭代求解路径 -&gt; 更新下一时刻的先验路径  -&gt; 返回当前时刻路径&#39;&#39;&#39;</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160; </div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        self.x_start, self.y_start = env_info[<span class="stringliteral">&#39;start_point&#39;</span>]</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        self.x_target, self.y_target = env_info[<span class="stringliteral">&#39;target_point&#39;</span>]</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        self.d2target = env_info[<span class="stringliteral">&#39;d2target&#39;</span>]</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        self.Obs_Segments = env_info[<span class="stringliteral">&#39;Obs_Segments&#39;</span>] <span class="comment"># (4*O,2,2)</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        self.Flat_pdct_segments = env_info[<span class="stringliteral">&#39;Flat_pdct_segments&#39;</span>] <span class="comment"># (dynamic_obs*4,2,2)</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160; </div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        self._iterate() <span class="comment"># 优化问题迭代求解</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        self.Priori_Path = self.Kinmtc[3,0,0].clone() <span class="comment"># 每次规划完成后，继承当前的结果，用于下次DPI</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160; </div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        <span class="keywordflow">return</span> self.Kinmtc[3,0,0].clone(), self.Tbest_Collision_Free</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160; </div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classPlanner_1_1OkayPlan.html#ab759236b722a4767ee2d01c0407c1771">Planner.OkayPlan.plan()</a>.</p>
<div id="dynsection-33" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-33-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-33-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-33-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classPlanner_1_1OkayPlan_ab759236b722a4767ee2d01c0407c1771_icgraph.png" border="0" usemap="#classPlanner_1_1OkayPlan_ab759236b722a4767ee2d01c0407c1771_icgraph" alt=""/></div>
<map name="classPlanner_1_1OkayPlan_ab759236b722a4767ee2d01c0407c1771_icgraph" id="classPlanner_1_1OkayPlan_ab759236b722a4767ee2d01c0407c1771_icgraph">
<area shape="rect" title=" " alt="" coords="5,29,175,56"/>
</map>
</div>

</div>
</div>
<a id="ab759236b722a4767ee2d01c0407c1771"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab759236b722a4767ee2d01c0407c1771">&#9670;&nbsp;</a></span>plan() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def Planner.OkayPlan.plan </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>env_info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">获取环境信息 -&gt; 迭代求解路径 -&gt; 更新下一时刻的先验路径  -&gt; 返回当前时刻路径</pre> <div class="fragment"><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <span class="keyword">def </span>plan(self, env_info):</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        <span class="stringliteral">&#39;&#39;&#39; 获取环境信息 -&gt; 迭代求解路径 -&gt; 更新下一时刻的先验路径  -&gt; 返回当前时刻路径&#39;&#39;&#39;</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160; </div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        self.x_start, self.y_start = env_info[<span class="stringliteral">&#39;start_point&#39;</span>]</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        self.x_target, self.y_target = env_info[<span class="stringliteral">&#39;target_point&#39;</span>]</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        self.d2target = env_info[<span class="stringliteral">&#39;d2target&#39;</span>]</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        self.Obs_Segments = env_info[<span class="stringliteral">&#39;Obs_Segments&#39;</span>] <span class="comment"># (4*O,2,2)</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        self.Flat_pdct_segments = env_info[<span class="stringliteral">&#39;Flat_pdct_segments&#39;</span>] <span class="comment"># (dynamic_obs*4,2,2)</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160; </div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        self._iterate() <span class="comment"># 优化问题迭代求解</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        self.Priori_Path = self.Kinmtc[3,0,0].clone() <span class="comment"># 每次规划完成后，继承当前的结果，用于下次DPI</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160; </div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        <span class="keywordflow">return</span> self.Kinmtc[3,0,0].clone(), self.Tbest_Collision_Free</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160; </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classPlanner_1_1OkayPlan.html#abe3101e74a83c7fbf68d4d3c4ef6adec">Planner.OkayPlan._iterate()</a>, <a class="el" href="classEnv__OkayPlan_1_1Env__4__OkayPlan.html#a531eeca512c1fcfd746dbf02ee7b5c0f">Env_OkayPlan.Env_4_OkayPlan.d2target</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a2cfb9ec8f0b66c254a2c708d7814b5c7">Planner.OkayPlan.d2target</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a2a324f5d1042bb16cfbb9a3e0b924715">Planner.OkayPlan.Flat_pdct_segments</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a633fd32e8a7480eef98c92565224a7d5">Planner.OkayPlan.Kinmtc</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#ad529858a4c9b90ec9a0e85588d723481">Planner.OkayPlan.Obs_Segments</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#ab759236b722a4767ee2d01c0407c1771">Planner.OkayPlan.plan()</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a10f6a6afd86f7a96e9f4a4e970afcc95">Planner.OkayPlan.Priori_Path</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#aeda39c82adea5aa58b623f9e001ddb0e">Planner.OkayPlan.Tbest_Collision_Free</a>, <a class="el" href="classEnv__OkayPlan_1_1Env__4__OkayPlan.html#a5b488bc921e485f65e84c6c9ec55b9c7">Env_OkayPlan.Env_4_OkayPlan.y_start</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a6bd4d8923146e7527c5da69f66713903">Planner.OkayPlan.y_start</a>, <a class="el" href="classEnv__OkayPlan_1_1Env__4__OkayPlan.html#addd181848c724c43cea831aab0ea2fd3">Env_OkayPlan.Env_4_OkayPlan.y_target</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#ac3ba1002e7a6176736ba2fa0d3e8770d">Planner.OkayPlan.y_target</a>.</p>
<div id="dynsection-34" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-34-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-34-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-34-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classPlanner_1_1OkayPlan_ab759236b722a4767ee2d01c0407c1771_cgraph.png" border="0" usemap="#classPlanner_1_1OkayPlan_ab759236b722a4767ee2d01c0407c1771_cgraph" alt=""/></div>
<map name="classPlanner_1_1OkayPlan_ab759236b722a4767ee2d01c0407c1771_cgraph" id="classPlanner_1_1OkayPlan_ab759236b722a4767ee2d01c0407c1771_cgraph">
<area shape="rect" title=" " alt="" coords="5,49,175,76"/>
<area shape="rect" href="classPlanner_1_1OkayPlan.html#abe3101e74a83c7fbf68d4d3c4ef6adec" title=" " alt="" coords="223,49,413,76"/>
<area shape="rect" href="classPlanner_1_1OkayPlan.html#aa7d29a3cc5d0fd152dacc93d5166472e" title=" " alt="" coords="717,5,921,32"/>
<area shape="rect" href="classPlanner_1_1OkayPlan.html#a47838547b3bf7b5bad81ec4e74504e64" title=" " alt="" coords="481,42,650,83"/>
<area shape="rect" href="classPlanner_1_1OkayPlan.html#aae8af0c7f0ecac78d33cce7e17b7f5a9" title=" " alt="" coords="461,108,669,135"/>
<area shape="rect" href="classPlanner_1_1OkayPlan.html#ad1794c2e1f46ba98d49f2a8d37e0a963" title=" " alt="" coords="719,86,920,127"/>
<area shape="rect" href="classPlanner_1_1OkayPlan.html#a692827fb9a60e4feccecc9e36085d673" title=" " alt="" coords="720,151,919,193"/>
</map>
</div>

</div>
</div>
<a id="aecd32d02d1509b3cc60ba59bf0cf17fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aecd32d02d1509b3cc60ba59bf0cf17fb">&#9670;&nbsp;</a></span>Priori_Path_Init() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def Planner.OkayPlan.Priori_Path_Init </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">在起点和终点之间均匀插值生成初始先验路径，每次导航前需要执行一次，导航中无需执行</pre> <div class="fragment"><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keyword">def </span>Priori_Path_Init(self, start, target):</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;在起点和终点之间均匀插值生成初始先验路径，每次导航前需要执行一次，导航中无需执行&#39;&#39;&#39;</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        self.Priori_Path = self._Uniform_interpolation_path(start, target)</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        self.shake_cefi = 0 <span class="comment"># 最初的规划不考虑shape penalty</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160; </div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classPlanner_1_1OkayPlan.html#aecd32d02d1509b3cc60ba59bf0cf17fb">Planner.OkayPlan.Priori_Path_Init()</a>.</p>
<div id="dynsection-35" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-35-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-35-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-35-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classPlanner_1_1OkayPlan_aecd32d02d1509b3cc60ba59bf0cf17fb_icgraph.png" border="0" usemap="#classPlanner_1_1OkayPlan_aecd32d02d1509b3cc60ba59bf0cf17fb_icgraph" alt=""/></div>
<map name="classPlanner_1_1OkayPlan_aecd32d02d1509b3cc60ba59bf0cf17fb_icgraph" id="classPlanner_1_1OkayPlan_aecd32d02d1509b3cc60ba59bf0cf17fb_icgraph">
<area shape="rect" title=" " alt="" coords="5,29,180,71"/>
</map>
</div>

</div>
</div>
<a id="aecd32d02d1509b3cc60ba59bf0cf17fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aecd32d02d1509b3cc60ba59bf0cf17fb">&#9670;&nbsp;</a></span>Priori_Path_Init() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def Planner.OkayPlan.Priori_Path_Init </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">在起点和终点之间均匀插值生成初始先验路径，每次导航前需要执行一次，导航中无需执行</pre> <div class="fragment"><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="keyword">def </span>Priori_Path_Init(self, start, target):</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;在起点和终点之间均匀插值生成初始先验路径，每次导航前需要执行一次，导航中无需执行&#39;&#39;&#39;</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        self.Priori_Path = self._Uniform_interpolation_path(start, target)</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        self.shake_cefi = 0 <span class="comment"># 最初的规划不考虑shape penalty</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160; </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classPlanner_1_1OkayPlan.html#ad1794c2e1f46ba98d49f2a8d37e0a963">Planner.OkayPlan._Uniform_interpolation_path()</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a10f6a6afd86f7a96e9f4a4e970afcc95">Planner.OkayPlan.Priori_Path</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#aecd32d02d1509b3cc60ba59bf0cf17fb">Planner.OkayPlan.Priori_Path_Init()</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#a3fffdc48f5ac6c7dbe2fbe8af4f197ee">Planner.OkayPlan.shake_cefi</a>.</p>
<div id="dynsection-36" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-36-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-36-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-36-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classPlanner_1_1OkayPlan_aecd32d02d1509b3cc60ba59bf0cf17fb_cgraph.png" border="0" usemap="#classPlanner_1_1OkayPlan_aecd32d02d1509b3cc60ba59bf0cf17fb_cgraph" alt=""/></div>
<map name="classPlanner_1_1OkayPlan_aecd32d02d1509b3cc60ba59bf0cf17fb_cgraph" id="classPlanner_1_1OkayPlan_aecd32d02d1509b3cc60ba59bf0cf17fb_cgraph">
<area shape="rect" title=" " alt="" coords="5,29,180,71"/>
<area shape="rect" href="classPlanner_1_1OkayPlan.html#ad1794c2e1f46ba98d49f2a8d37e0a963" title=" " alt="" coords="228,29,429,71"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a306b0b64e432a672a1851ee4cd16dab0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a306b0b64e432a672a1851ee4cd16dab0">&#9670;&nbsp;</a></span>_get_Obs_Penalty</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Planner.OkayPlan._get_Obs_Penalty</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classPlanner_1_1OkayPlan.html#ad61407d32a1a6a5b90e307ac19ce9345">Planner.OkayPlan.__init__()</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a47838547b3bf7b5bad81ec4e74504e64">Planner.OkayPlan._get_fitness()</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#a8207aa6109d5484eb0babb59f7d2e1ff">Planner.OkayPlan._get_Obs_Penalty()</a>.</p>

</div>
</div>
<a id="ad8910a5f023c6e60f7ced3b616f44d91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8910a5f023c6e60f7ced3b616f44d91">&#9670;&nbsp;</a></span>_get_Shake_Penalty</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Planner.OkayPlan._get_Shake_Penalty</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classPlanner_1_1OkayPlan.html#ad61407d32a1a6a5b90e307ac19ce9345">Planner.OkayPlan.__init__()</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a47838547b3bf7b5bad81ec4e74504e64">Planner.OkayPlan._get_fitness()</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#a9612f7960b59aedbcf8a47ca6a9878eb">Planner.OkayPlan._get_Shake_Penalty()</a>.</p>

</div>
</div>
<a id="a9a6db39585d3b350f77bae9903826c23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a6db39585d3b350f77bae9903826c23">&#9670;&nbsp;</a></span>angles_trsd</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Planner.OkayPlan.angles_trsd</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classPlanner_1_1OkayPlan.html#ad61407d32a1a6a5b90e307ac19ce9345">Planner.OkayPlan.__init__()</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#a5dbe90fd6d2563bcabb7a1d640023af6">Planner.OkayPlan.get_guidepoint_old()</a>.</p>

</div>
</div>
<a id="a19e4973e0b60041d5cfb5b2d84f6b6fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19e4973e0b60041d5cfb5b2d84f6b6fd">&#9670;&nbsp;</a></span>arange_idx</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Planner.OkayPlan.arange_idx</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classPlanner_1_1OkayPlan.html#ad61407d32a1a6a5b90e307ac19ce9345">Planner.OkayPlan.__init__()</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#abe3101e74a83c7fbf68d4d3c4ef6adec">Planner.OkayPlan._iterate()</a>.</p>

</div>
</div>
<a id="a052af9afd43819946b301a24fd009ca8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a052af9afd43819946b301a24fd009ca8">&#9670;&nbsp;</a></span>AT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Planner.OkayPlan.AT</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classPlanner_1_1OkayPlan.html#ad61407d32a1a6a5b90e307ac19ce9345">Planner.OkayPlan.__init__()</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#abe3101e74a83c7fbf68d4d3c4ef6adec">Planner.OkayPlan._iterate()</a>.</p>

</div>
</div>
<a id="ad4584275ff2f88accc11f19061027d70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4584275ff2f88accc11f19061027d70">&#9670;&nbsp;</a></span>D</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Planner.OkayPlan.D</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classPlanner_1_1OkayPlan.html#ad61407d32a1a6a5b90e307ac19ce9345">Planner.OkayPlan.__init__()</a>, <a class="el" href="classEnv__ColorDynamic_1_1Gazebo__fml__robot__env.html#aa0e170a8e39ea471280d9b9879c6609e">Env_ColorDynamic.Gazebo_fml_robot_env.__init__()</a>, <a class="el" href="classSparrow__Gazebo__single_1_1Gazebo__fml__robot__env.html#af991de331a0d94f11c5aa4e6fbcbd9b0">Sparrow_Gazebo_single.Gazebo_fml_robot_env._add_waypoints()</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#aae8af0c7f0ecac78d33cce7e17b7f5a9">Planner.OkayPlan._ReLocate()</a>.</p>

</div>
</div>
<a id="a2cfb9ec8f0b66c254a2c708d7814b5c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2cfb9ec8f0b66c254a2c708d7814b5c7">&#9670;&nbsp;</a></span>d2target</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Planner.OkayPlan.d2target</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classPlanner_1_1OkayPlan.html#a47838547b3bf7b5bad81ec4e74504e64">Planner.OkayPlan._get_fitness()</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#aae8af0c7f0ecac78d33cce7e17b7f5a9">Planner.OkayPlan._ReLocate()</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#ab759236b722a4767ee2d01c0407c1771">Planner.OkayPlan.plan()</a>.</p>

</div>
</div>
<a id="a7e4ba375f9819a70b327c540b9eeb215"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e4ba375f9819a70b327c540b9eeb215">&#9670;&nbsp;</a></span>discounted_D</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Planner.OkayPlan.discounted_D</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classPlanner_1_1OkayPlan.html#ad61407d32a1a6a5b90e307ac19ce9345">Planner.OkayPlan.__init__()</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a828693f773fbb4a71e9f1f937f49419d">Planner.OkayPlan.get_guidepoint()</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#a5dbe90fd6d2563bcabb7a1d640023af6">Planner.OkayPlan.get_guidepoint_old()</a>.</p>

</div>
</div>
<a id="a55580e5c75edf5972a790f0b2fa7779b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55580e5c75edf5972a790f0b2fa7779b">&#9670;&nbsp;</a></span>DPI</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Planner.OkayPlan.DPI</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classPlanner_1_1OkayPlan.html#ad61407d32a1a6a5b90e307ac19ce9345">Planner.OkayPlan.__init__()</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#aae8af0c7f0ecac78d33cce7e17b7f5a9">Planner.OkayPlan._ReLocate()</a>.</p>

</div>
</div>
<a id="a439c78cd75fe21e6816d5d47235eec08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a439c78cd75fe21e6816d5d47235eec08">&#9670;&nbsp;</a></span>dvc</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Planner.OkayPlan.dvc</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classPlanner_1_1OkayPlan.html#ad61407d32a1a6a5b90e307ac19ce9345">Planner.OkayPlan.__init__()</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#abe3101e74a83c7fbf68d4d3c4ef6adec">Planner.OkayPlan._iterate()</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#aae8af0c7f0ecac78d33cce7e17b7f5a9">Planner.OkayPlan._ReLocate()</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#ad1794c2e1f46ba98d49f2a8d37e0a963">Planner.OkayPlan._Uniform_interpolation_path()</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#a692827fb9a60e4feccecc9e36085d673">Planner.OkayPlan._uniform_random()</a>.</p>

</div>
</div>
<a id="a2a324f5d1042bb16cfbb9a3e0b924715"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a324f5d1042bb16cfbb9a3e0b924715">&#9670;&nbsp;</a></span>Flat_pdct_segments</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Planner.OkayPlan.Flat_pdct_segments</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classPlanner_1_1OkayPlan.html#a8207aa6109d5484eb0babb59f7d2e1ff">Planner.OkayPlan._get_Obs_Penalty()</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#ab759236b722a4767ee2d01c0407c1771">Planner.OkayPlan.plan()</a>.</p>

</div>
</div>
<a id="a6cdc1efe757f2adc1072ab956bb968fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cdc1efe757f2adc1072ab956bb968fd">&#9670;&nbsp;</a></span>G</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Planner.OkayPlan.G</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classPlanner_1_1OkayPlan.html#ad61407d32a1a6a5b90e307ac19ce9345">Planner.OkayPlan.__init__()</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a8207aa6109d5484eb0babb59f7d2e1ff">Planner.OkayPlan._get_Obs_Penalty()</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#abe3101e74a83c7fbf68d4d3c4ef6adec">Planner.OkayPlan._iterate()</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#aae8af0c7f0ecac78d33cce7e17b7f5a9">Planner.OkayPlan._ReLocate()</a>.</p>

</div>
</div>
<a id="afb1f5150f81e73dbdde462866c11ca73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb1f5150f81e73dbdde462866c11ca73">&#9670;&nbsp;</a></span>Gbest_value</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Planner.OkayPlan.Gbest_value</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classPlanner_1_1OkayPlan.html#abe3101e74a83c7fbf68d4d3c4ef6adec">Planner.OkayPlan._iterate()</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#aae8af0c7f0ecac78d33cce7e17b7f5a9">Planner.OkayPlan._ReLocate()</a>.</p>

</div>
</div>
<a id="a18e73d4da214894e39e8b1265f9bdc12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18e73d4da214894e39e8b1265f9bdc12">&#9670;&nbsp;</a></span>Hyper</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Planner.OkayPlan.Hyper</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classPlanner_1_1OkayPlan.html#ad61407d32a1a6a5b90e307ac19ce9345">Planner.OkayPlan.__init__()</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#abe3101e74a83c7fbf68d4d3c4ef6adec">Planner.OkayPlan._iterate()</a>.</p>

</div>
</div>
<a id="a633fd32e8a7480eef98c92565224a7d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a633fd32e8a7480eef98c92565224a7d5">&#9670;&nbsp;</a></span>Kinmtc</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Planner.OkayPlan.Kinmtc</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classPlanner_1_1OkayPlan.html#ad61407d32a1a6a5b90e307ac19ce9345">Planner.OkayPlan.__init__()</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#abe3101e74a83c7fbf68d4d3c4ef6adec">Planner.OkayPlan._iterate()</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#aae8af0c7f0ecac78d33cce7e17b7f5a9">Planner.OkayPlan._ReLocate()</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#ab759236b722a4767ee2d01c0407c1771">Planner.OkayPlan.plan()</a>.</p>

</div>
</div>
<a id="a69d6234026716407e99630c157071f7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69d6234026716407e99630c157071f7b">&#9670;&nbsp;</a></span>length_trsd</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Planner.OkayPlan.length_trsd</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classPlanner_1_1OkayPlan.html#ad61407d32a1a6a5b90e307ac19ce9345">Planner.OkayPlan.__init__()</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#a5dbe90fd6d2563bcabb7a1d640023af6">Planner.OkayPlan.get_guidepoint_old()</a>.</p>

</div>
</div>
<a id="a13c6a19f9ae239c0c0a48c4e8b432298"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13c6a19f9ae239c0c0a48c4e8b432298">&#9670;&nbsp;</a></span>Locate</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Planner.OkayPlan.Locate</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classPlanner_1_1OkayPlan.html#ad61407d32a1a6a5b90e307ac19ce9345">Planner.OkayPlan.__init__()</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#aa7d29a3cc5d0fd152dacc93d5166472e">Planner.OkayPlan._fix_apex()</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a47838547b3bf7b5bad81ec4e74504e64">Planner.OkayPlan._get_fitness()</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a8207aa6109d5484eb0babb59f7d2e1ff">Planner.OkayPlan._get_Obs_Penalty()</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a9612f7960b59aedbcf8a47ca6a9878eb">Planner.OkayPlan._get_Shake_Penalty()</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#abe3101e74a83c7fbf68d4d3c4ef6adec">Planner.OkayPlan._iterate()</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#aae8af0c7f0ecac78d33cce7e17b7f5a9">Planner.OkayPlan._ReLocate()</a>.</p>

</div>
</div>
<a id="aa82d7ecbf6e8fe5164f9262f424096b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa82d7ecbf6e8fe5164f9262f424096b6">&#9670;&nbsp;</a></span>Max_iterations</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Planner.OkayPlan.Max_iterations</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classPlanner_1_1OkayPlan.html#ad61407d32a1a6a5b90e307ac19ce9345">Planner.OkayPlan.__init__()</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#abe3101e74a83c7fbf68d4d3c4ef6adec">Planner.OkayPlan._iterate()</a>.</p>

</div>
</div>
<a id="a048d09cbc1a40abdd41e297d4972ca1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a048d09cbc1a40abdd41e297d4972ca1b">&#9670;&nbsp;</a></span>NP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Planner.OkayPlan.NP</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classPlanner_1_1OkayPlan.html#ad61407d32a1a6a5b90e307ac19ce9345">Planner.OkayPlan.__init__()</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#aa7d29a3cc5d0fd152dacc93d5166472e">Planner.OkayPlan._fix_apex()</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a47838547b3bf7b5bad81ec4e74504e64">Planner.OkayPlan._get_fitness()</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a8207aa6109d5484eb0babb59f7d2e1ff">Planner.OkayPlan._get_Obs_Penalty()</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#aae8af0c7f0ecac78d33cce7e17b7f5a9">Planner.OkayPlan._ReLocate()</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#ad1794c2e1f46ba98d49f2a8d37e0a963">Planner.OkayPlan._Uniform_interpolation_path()</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#ab70f0f845f03b200a5b81462efa710c1">Planner.OkayPlan._waypoints_filter()</a>.</p>

</div>
</div>
<a id="ad529858a4c9b90ec9a0e85588d723481"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad529858a4c9b90ec9a0e85588d723481">&#9670;&nbsp;</a></span>Obs_Segments</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Planner.OkayPlan.Obs_Segments</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classPlanner_1_1OkayPlan.html#a8207aa6109d5484eb0babb59f7d2e1ff">Planner.OkayPlan._get_Obs_Penalty()</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#ab759236b722a4767ee2d01c0407c1771">Planner.OkayPlan.plan()</a>.</p>

</div>
</div>
<a id="aa006005fbe435075683b6e07e4944a94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa006005fbe435075683b6e07e4944a94">&#9670;&nbsp;</a></span>P</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Planner.OkayPlan.P</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classPlanner_1_1OkayPlan.html#ad61407d32a1a6a5b90e307ac19ce9345">Planner.OkayPlan.__init__()</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#a8207aa6109d5484eb0babb59f7d2e1ff">Planner.OkayPlan._get_Obs_Penalty()</a>.</p>

</div>
</div>
<a id="a179a8f5a4b2423d433e51955ec492b67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a179a8f5a4b2423d433e51955ec492b67">&#9670;&nbsp;</a></span>params</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Planner.OkayPlan.params</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classPlanner_1_1OkayPlan.html#ad61407d32a1a6a5b90e307ac19ce9345">Planner.OkayPlan.__init__()</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#a47838547b3bf7b5bad81ec4e74504e64">Planner.OkayPlan._get_fitness()</a>.</p>

</div>
</div>
<a id="ab04010d1aa453c23c3b03b53dbcf1033"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab04010d1aa453c23c3b03b53dbcf1033">&#9670;&nbsp;</a></span>Pbest_value</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Planner.OkayPlan.Pbest_value</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classPlanner_1_1OkayPlan.html#abe3101e74a83c7fbf68d4d3c4ef6adec">Planner.OkayPlan._iterate()</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#aae8af0c7f0ecac78d33cce7e17b7f5a9">Planner.OkayPlan._ReLocate()</a>.</p>

</div>
</div>
<a id="a10f6a6afd86f7a96e9f4a4e970afcc95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10f6a6afd86f7a96e9f4a4e970afcc95">&#9670;&nbsp;</a></span>Priori_Path</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Planner.OkayPlan.Priori_Path</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classPlanner_1_1OkayPlan.html#a9612f7960b59aedbcf8a47ca6a9878eb">Planner.OkayPlan._get_Shake_Penalty()</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#aae8af0c7f0ecac78d33cce7e17b7f5a9">Planner.OkayPlan._ReLocate()</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#ab759236b722a4767ee2d01c0407c1771">Planner.OkayPlan.plan()</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#aecd32d02d1509b3cc60ba59bf0cf17fb">Planner.OkayPlan.Priori_Path_Init()</a>.</p>

</div>
</div>
<a id="a79d1bd3b14a7850708f6d6df1d1747b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79d1bd3b14a7850708f6d6df1d1747b6">&#9670;&nbsp;</a></span>Random</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Planner.OkayPlan.Random</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classPlanner_1_1OkayPlan.html#ad61407d32a1a6a5b90e307ac19ce9345">Planner.OkayPlan.__init__()</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#abe3101e74a83c7fbf68d4d3c4ef6adec">Planner.OkayPlan._iterate()</a>.</p>

</div>
</div>
<a id="a64c817618c60cd096432f72bd0eef4b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64c817618c60cd096432f72bd0eef4b3">&#9670;&nbsp;</a></span>rd_area</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Planner.OkayPlan.rd_area</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classPlanner_1_1OkayPlan.html#ad61407d32a1a6a5b90e307ac19ce9345">Planner.OkayPlan.__init__()</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#aae8af0c7f0ecac78d33cce7e17b7f5a9">Planner.OkayPlan._ReLocate()</a>.</p>

</div>
</div>
<a id="a157d96c0eb55385ee1fbed403590859b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a157d96c0eb55385ee1fbed403590859b">&#9670;&nbsp;</a></span>S</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Planner.OkayPlan.S</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classPlanner_1_1OkayPlan.html#ad61407d32a1a6a5b90e307ac19ce9345">Planner.OkayPlan.__init__()</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#a8207aa6109d5484eb0babb59f7d2e1ff">Planner.OkayPlan._get_Obs_Penalty()</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#ab70f0f845f03b200a5b81462efa710c1">Planner.OkayPlan._waypoints_filter()</a>.</p>

</div>
</div>
<a id="ab8e9d17cbc8936718abe21a1b64ae8bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8e9d17cbc8936718abe21a1b64ae8bf">&#9670;&nbsp;</a></span>Search_range</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Planner.OkayPlan.Search_range</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classPlanner_1_1OkayPlan.html#ad61407d32a1a6a5b90e307ac19ce9345">Planner.OkayPlan.__init__()</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#abe3101e74a83c7fbf68d4d3c4ef6adec">Planner.OkayPlan._iterate()</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#aae8af0c7f0ecac78d33cce7e17b7f5a9">Planner.OkayPlan._ReLocate()</a>.</p>

</div>
</div>
<a id="a3fffdc48f5ac6c7dbe2fbe8af4f197ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fffdc48f5ac6c7dbe2fbe8af4f197ee">&#9670;&nbsp;</a></span>shake_cefi</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Planner.OkayPlan.shake_cefi</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classPlanner_1_1OkayPlan.html#a47838547b3bf7b5bad81ec4e74504e64">Planner.OkayPlan._get_fitness()</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#aecd32d02d1509b3cc60ba59bf0cf17fb">Planner.OkayPlan.Priori_Path_Init()</a>.</p>

</div>
</div>
<a id="aeff493dcaa86b1cf5556ec96ebb4cf45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeff493dcaa86b1cf5556ec96ebb4cf45">&#9670;&nbsp;</a></span>ShakePenalty</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Planner.OkayPlan.ShakePenalty</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classPlanner_1_1OkayPlan.html#ad61407d32a1a6a5b90e307ac19ce9345">Planner.OkayPlan.__init__()</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#a47838547b3bf7b5bad81ec4e74504e64">Planner.OkayPlan._get_fitness()</a>.</p>

</div>
</div>
<a id="a31d135887145f2d82da44ef991268806"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31d135887145f2d82da44ef991268806">&#9670;&nbsp;</a></span>std_Trsd</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Planner.OkayPlan.std_Trsd</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classPlanner_1_1OkayPlan.html#ad61407d32a1a6a5b90e307ac19ce9345">Planner.OkayPlan.__init__()</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#abe3101e74a83c7fbf68d4d3c4ef6adec">Planner.OkayPlan._iterate()</a>.</p>

</div>
</div>
<a id="aeda39c82adea5aa58b623f9e001ddb0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeda39c82adea5aa58b623f9e001ddb0e">&#9670;&nbsp;</a></span>Tbest_Collision_Free</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Planner.OkayPlan.Tbest_Collision_Free</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classPlanner_1_1OkayPlan.html#abe3101e74a83c7fbf68d4d3c4ef6adec">Planner.OkayPlan._iterate()</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#aae8af0c7f0ecac78d33cce7e17b7f5a9">Planner.OkayPlan._ReLocate()</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#ab759236b722a4767ee2d01c0407c1771">Planner.OkayPlan.plan()</a>.</p>

</div>
</div>
<a id="a1718f73c572231b351167e219ec78d29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1718f73c572231b351167e219ec78d29">&#9670;&nbsp;</a></span>Tbest_value</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Planner.OkayPlan.Tbest_value</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classPlanner_1_1OkayPlan.html#abe3101e74a83c7fbf68d4d3c4ef6adec">Planner.OkayPlan._iterate()</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#aae8af0c7f0ecac78d33cce7e17b7f5a9">Planner.OkayPlan._ReLocate()</a>.</p>

</div>
</div>
<a id="aed2c341e08444b2e031fb4535b042609"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed2c341e08444b2e031fb4535b042609">&#9670;&nbsp;</a></span>Tbest_values_deque</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Planner.OkayPlan.Tbest_values_deque</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classPlanner_1_1OkayPlan.html#abe3101e74a83c7fbf68d4d3c4ef6adec">Planner.OkayPlan._iterate()</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#aae8af0c7f0ecac78d33cce7e17b7f5a9">Planner.OkayPlan._ReLocate()</a>.</p>

</div>
</div>
<a id="a2dd336a7cf894fd1cc7af56dd137243b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2dd336a7cf894fd1cc7af56dd137243b">&#9670;&nbsp;</a></span>TrucWindow</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Planner.OkayPlan.TrucWindow</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classPlanner_1_1OkayPlan.html#ad61407d32a1a6a5b90e307ac19ce9345">Planner.OkayPlan.__init__()</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#abe3101e74a83c7fbf68d4d3c4ef6adec">Planner.OkayPlan._iterate()</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#aae8af0c7f0ecac78d33cce7e17b7f5a9">Planner.OkayPlan._ReLocate()</a>.</p>

</div>
</div>
<a id="aed19fa32b9f3ae64bd29d16169118179"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed19fa32b9f3ae64bd29d16169118179">&#9670;&nbsp;</a></span>v_init_ratio</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Planner.OkayPlan.v_init_ratio</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classPlanner_1_1OkayPlan.html#ad61407d32a1a6a5b90e307ac19ce9345">Planner.OkayPlan.__init__()</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#aae8af0c7f0ecac78d33cce7e17b7f5a9">Planner.OkayPlan._ReLocate()</a>.</p>

</div>
</div>
<a id="a0b61ad18fcc7f221a129b262da76279c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b61ad18fcc7f221a129b262da76279c">&#9670;&nbsp;</a></span>v_limit_ratio</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Planner.OkayPlan.v_limit_ratio</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classPlanner_1_1OkayPlan.html#ad61407d32a1a6a5b90e307ac19ce9345">Planner.OkayPlan.__init__()</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#aae8af0c7f0ecac78d33cce7e17b7f5a9">Planner.OkayPlan._ReLocate()</a>.</p>

</div>
</div>
<a id="a2e986124a39661e9142e480645d86c8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e986124a39661e9142e480645d86c8f">&#9670;&nbsp;</a></span>v_max</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Planner.OkayPlan.v_max</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classPlanner_1_1OkayPlan.html#abe3101e74a83c7fbf68d4d3c4ef6adec">Planner.OkayPlan._iterate()</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#aae8af0c7f0ecac78d33cce7e17b7f5a9">Planner.OkayPlan._ReLocate()</a>.</p>

</div>
</div>
<a id="a7d7ec8d710fc0b42180c867ab8c2818f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d7ec8d710fc0b42180c867ab8c2818f">&#9670;&nbsp;</a></span>v_min</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Planner.OkayPlan.v_min</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classPlanner_1_1OkayPlan.html#abe3101e74a83c7fbf68d4d3c4ef6adec">Planner.OkayPlan._iterate()</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#aae8af0c7f0ecac78d33cce7e17b7f5a9">Planner.OkayPlan._ReLocate()</a>.</p>

</div>
</div>
<a id="a4b9f26e30add99f9de5deb35562062d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b9f26e30add99f9de5deb35562062d4">&#9670;&nbsp;</a></span>V_offset</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Planner.OkayPlan.V_offset</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classPlanner_1_1OkayPlan.html#ad61407d32a1a6a5b90e307ac19ce9345">Planner.OkayPlan.__init__()</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#aae8af0c7f0ecac78d33cce7e17b7f5a9">Planner.OkayPlan._ReLocate()</a>.</p>

</div>
</div>
<a id="a5e90cdc498fafef6da0d906f7f9cf860"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e90cdc498fafef6da0d906f7f9cf860">&#9670;&nbsp;</a></span>w_delta</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Planner.OkayPlan.w_delta</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classPlanner_1_1OkayPlan.html#ad61407d32a1a6a5b90e307ac19ce9345">Planner.OkayPlan.__init__()</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#abe3101e74a83c7fbf68d4d3c4ef6adec">Planner.OkayPlan._iterate()</a>.</p>

</div>
</div>
<a id="a584a44fe94e8e3f1a980e073063b70fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a584a44fe94e8e3f1a980e073063b70fa">&#9670;&nbsp;</a></span>w_end</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Planner.OkayPlan.w_end</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classPlanner_1_1OkayPlan.html#ad61407d32a1a6a5b90e307ac19ce9345">Planner.OkayPlan.__init__()</a>.</p>

</div>
</div>
<a id="a4f3828cbb03403df32dfa7f970e41bcd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f3828cbb03403df32dfa7f970e41bcd">&#9670;&nbsp;</a></span>w_init</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Planner.OkayPlan.w_init</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classPlanner_1_1OkayPlan.html#ad61407d32a1a6a5b90e307ac19ce9345">Planner.OkayPlan.__init__()</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#abe3101e74a83c7fbf68d4d3c4ef6adec">Planner.OkayPlan._iterate()</a>.</p>

</div>
</div>
<a id="aac451eabcb693186e9801619045afe47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac451eabcb693186e9801619045afe47">&#9670;&nbsp;</a></span>waypoints_trsd</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Planner.OkayPlan.waypoints_trsd</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classPlanner_1_1OkayPlan.html#ad61407d32a1a6a5b90e307ac19ce9345">Planner.OkayPlan.__init__()</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#ab70f0f845f03b200a5b81462efa710c1">Planner.OkayPlan._waypoints_filter()</a>.</p>

</div>
</div>
<a id="a6bd4d8923146e7527c5da69f66713903"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6bd4d8923146e7527c5da69f66713903">&#9670;&nbsp;</a></span>y_start</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Planner.OkayPlan.y_start</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classPlanner_1_1OkayPlan.html#aa7d29a3cc5d0fd152dacc93d5166472e">Planner.OkayPlan._fix_apex()</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#aae8af0c7f0ecac78d33cce7e17b7f5a9">Planner.OkayPlan._ReLocate()</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#ab759236b722a4767ee2d01c0407c1771">Planner.OkayPlan.plan()</a>.</p>

</div>
</div>
<a id="ac3ba1002e7a6176736ba2fa0d3e8770d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3ba1002e7a6176736ba2fa0d3e8770d">&#9670;&nbsp;</a></span>y_target</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Planner.OkayPlan.y_target</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="classPlanner_1_1OkayPlan.html#aa7d29a3cc5d0fd152dacc93d5166472e">Planner.OkayPlan._fix_apex()</a>, <a class="el" href="classPlanner_1_1OkayPlan.html#aae8af0c7f0ecac78d33cce7e17b7f5a9">Planner.OkayPlan._ReLocate()</a>, and <a class="el" href="classPlanner_1_1OkayPlan.html#ab759236b722a4767ee2d01c0407c1771">Planner.OkayPlan.plan()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/sim_env/scripts/OPCD/Evaluate/OkayPlan/<a class="el" href="Evaluate_2OkayPlan_2Planner_8py.html">Planner.py</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="anamespaceTrans__DDQN__play_html_a42cf485ed52998d534613faf92abec18"><div class="ttname"><a href="namespaceTrans__DDQN__play.html#a42cf485ed52998d534613faf92abec18">Trans_DDQN_play.int</a></div><div class="ttdeci">int</div><div class="ttdef"><b>Definition:</b> Trans_DDQN_play.py:14</div></div>
<div class="ttc" id="anamespacemulti__teleop__twist__keyboard_html_a627417034d99c4d974013ba076524719"><div class="ttname"><a href="namespacemulti__teleop__twist__keyboard.html#a627417034d99c4d974013ba076524719">multi_teleop_twist_keyboard.repeat</a></div><div class="ttdeci">repeat</div><div class="ttdef"><b>Definition:</b> multi_teleop_twist_keyboard.py:186</div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacePlanner.html">Planner</a></li><li class="navelem"><a class="el" href="classPlanner_1_1OkayPlan.html">OkayPlan</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
